var O_=Object.defineProperty;var D_=(e,t,n)=>t in e?O_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Zl=(e,t,n)=>D_(e,typeof t!="symbol"?t+"":t,n);function A_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wp={exports:{}},vl={},Vp={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Es=Symbol.for("react.element"),M_=Symbol.for("react.portal"),b_=Symbol.for("react.fragment"),L_=Symbol.for("react.strict_mode"),F_=Symbol.for("react.profiler"),j_=Symbol.for("react.provider"),z_=Symbol.for("react.context"),U_=Symbol.for("react.forward_ref"),B_=Symbol.for("react.suspense"),$_=Symbol.for("react.memo"),W_=Symbol.for("react.lazy"),tf=Symbol.iterator;function V_(e){return e===null||typeof e!="object"?null:(e=tf&&e[tf]||e["@@iterator"],typeof e=="function"?e:null)}var Hp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qp=Object.assign,qp={};function Hr(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Hp}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kp(){}Kp.prototype=Hr.prototype;function gc(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Hp}var yc=gc.prototype=new Kp;yc.constructor=gc;Qp(yc,Hr.prototype);yc.isPureReactComponent=!0;var nf=Array.isArray,Gp=Object.prototype.hasOwnProperty,vc={current:null},Yp={key:!0,ref:!0,__self:!0,__source:!0};function Xp(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Gp.call(t,r)&&!Yp.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Es,type:e,key:s,ref:o,props:i,_owner:vc.current}}function H_(e,t){return{$$typeof:Es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _c(e){return typeof e=="object"&&e!==null&&e.$$typeof===Es}function Q_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rf=/\/+/g;function ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Q_(""+e.key):t.toString(36)}function co(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Es:case M_:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ea(o,0):r,nf(i)?(n="",e!=null&&(n=e.replace(rf,"$&/")+"/"),co(i,t,n,"",function(u){return u})):i!=null&&(_c(i)&&(i=H_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",nf(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+ea(s,l);o+=co(s,t,n,a,i)}else if(a=V_(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+ea(s,l++),o+=co(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bs(e,t,n){if(e==null)return e;var r=[],i=0;return co(e,r,"","",function(s){return t.call(n,s,i++)}),r}function q_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},fo={transition:null},K_={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:fo,ReactCurrentOwner:vc};function Jp(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Bs,forEach:function(e,t,n){Bs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bs(e,function(){t++}),t},toArray:function(e){return Bs(e,function(t){return t})||[]},only:function(e){if(!_c(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Hr;W.Fragment=b_;W.Profiler=F_;W.PureComponent=gc;W.StrictMode=L_;W.Suspense=B_;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K_;W.act=Jp;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=vc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Gp.call(t,a)&&!Yp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Es,type:e.type,key:i,ref:s,props:r,_owner:o}};W.createContext=function(e){return e={$$typeof:z_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j_,_context:e},e.Consumer=e};W.createElement=Xp;W.createFactory=function(e){var t=Xp.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:U_,render:e}};W.isValidElement=_c;W.lazy=function(e){return{$$typeof:W_,_payload:{_status:-1,_result:e},_init:q_}};W.memo=function(e,t){return{$$typeof:$_,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=fo.transition;fo.transition={};try{e()}finally{fo.transition=t}};W.unstable_act=Jp;W.useCallback=function(e,t){return Fe.current.useCallback(e,t)};W.useContext=function(e){return Fe.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};W.useEffect=function(e,t){return Fe.current.useEffect(e,t)};W.useId=function(){return Fe.current.useId()};W.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Fe.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};W.useRef=function(e){return Fe.current.useRef(e)};W.useState=function(e){return Fe.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Fe.current.useTransition()};W.version="18.3.1";Vp.exports=W;var x=Vp.exports;const Zp=$p(x),qa=A_({__proto__:null,default:Zp},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_=x,Y_=Symbol.for("react.element"),X_=Symbol.for("react.fragment"),J_=Object.prototype.hasOwnProperty,Z_=G_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e0={key:!0,ref:!0,__self:!0,__source:!0};function em(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)J_.call(t,r)&&!e0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Y_,type:e,key:s,ref:o,props:i,_owner:Z_.current}}vl.Fragment=X_;vl.jsx=em;vl.jsxs=em;Wp.exports=vl;var D=Wp.exports,tm={exports:{}},tt={},nm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,F){var b=P.length;P.push(F);e:for(;0<b;){var H=b-1>>>1,Y=P[H];if(0<i(Y,F))P[H]=F,P[b]=Y,b=H;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var F=P[0],b=P.pop();if(b!==F){P[0]=b;e:for(var H=0,Y=P.length,ve=Y>>>1;H<ve;){var xn=2*(H+1)-1,Jl=P[xn],Nn=xn+1,Us=P[Nn];if(0>i(Jl,b))Nn<Y&&0>i(Us,Jl)?(P[H]=Us,P[Nn]=b,H=Nn):(P[H]=Jl,P[xn]=b,H=xn);else if(Nn<Y&&0>i(Us,b))P[H]=Us,P[Nn]=b,H=Nn;else break e}}return F}function i(P,F){var b=P.sortIndex-F.sortIndex;return b!==0?b:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,c=null,d=3,m=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=P)r(u),F.sortIndex=F.expirationTime,t(a,F);else break;F=n(u)}}function _(P){if(v=!1,p(P),!y)if(n(a)!==null)y=!0,G(C);else{var F=n(u);F!==null&&he(_,F.startTime-P)}}function C(P,F){y=!1,v&&(v=!1,g(k),k=-1),m=!0;var b=d;try{for(p(F),c=n(a);c!==null&&(!(c.expirationTime>F)||P&&!N());){var H=c.callback;if(typeof H=="function"){c.callback=null,d=c.priorityLevel;var Y=H(c.expirationTime<=F);F=e.unstable_now(),typeof Y=="function"?c.callback=Y:c===n(a)&&r(a),p(F)}else r(a);c=n(a)}if(c!==null)var ve=!0;else{var xn=n(u);xn!==null&&he(_,xn.startTime-F),ve=!1}return ve}finally{c=null,d=b,m=!1}}var E=!1,S=null,k=-1,I=5,T=-1;function N(){return!(e.unstable_now()-T<I)}function A(){if(S!==null){var P=e.unstable_now();T=P;var F=!0;try{F=S(!0,P)}finally{F?M():(E=!1,S=null)}}else E=!1}var M;if(typeof h=="function")M=function(){h(A)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,U=j.port2;j.port1.onmessage=A,M=function(){U.postMessage(null)}}else M=function(){w(A,0)};function G(P){S=P,E||(E=!0,M())}function he(P,F){k=w(function(){P(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,G(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var b=d;d=F;try{return P()}finally{d=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var b=d;d=P;try{return F()}finally{d=b}},e.unstable_scheduleCallback=function(P,F,b){var H=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?H+b:H):b=H,P){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=b+Y,P={id:f++,callback:F,priorityLevel:P,startTime:b,expirationTime:Y,sortIndex:-1},b>H?(P.sortIndex=b,t(u,P),n(a)===null&&P===n(u)&&(v?(g(k),k=-1):v=!0,he(_,b-H))):(P.sortIndex=Y,t(a,P),y||m||(y=!0,G(C))),P},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(P){var F=d;return function(){var b=d;d=F;try{return P.apply(this,arguments)}finally{d=b}}}})(rm);nm.exports=rm;var t0=nm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=x,Ze=t0;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var im=new Set,zi={};function tr(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(zi[e]=t,e=0;e<t.length;e++)im.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=Object.prototype.hasOwnProperty,r0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf={},of={};function i0(e){return Ka.call(of,e)?!0:Ka.call(sf,e)?!1:r0.test(e)?of[e]=!0:(sf[e]=!0,!1)}function s0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function o0(e,t,n,r){if(t===null||typeof t>"u"||s0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var wc=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wc,Sc);Ne[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wc,Sc);Ne[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wc,Sc);Ne[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ec(e,t,n,r){var i=Ne.hasOwnProperty(t)?Ne[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(o0(t,n,i,r)&&(n=null),r||i===null?i0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wt=n0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),cr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),Cc=Symbol.for("react.strict_mode"),Ga=Symbol.for("react.profiler"),sm=Symbol.for("react.provider"),om=Symbol.for("react.context"),kc=Symbol.for("react.forward_ref"),Ya=Symbol.for("react.suspense"),Xa=Symbol.for("react.suspense_list"),Tc=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),lm=Symbol.for("react.offscreen"),lf=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=lf&&e[lf]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,ta;function mi(e){if(ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ta=t&&t[1]||""}return`
`+ta+e}var na=!1;function ra(e,t){if(!e||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{na=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function l0(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=ra(e.type,!1),e;case 11:return e=ra(e.type.render,!1),e;case 1:return e=ra(e.type,!0),e;default:return""}}function Ja(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case cr:return"Portal";case Ga:return"Profiler";case Cc:return"StrictMode";case Ya:return"Suspense";case Xa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case om:return(e.displayName||"Context")+".Consumer";case sm:return(e._context.displayName||"Context")+".Provider";case kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tc:return t=e.displayName||null,t!==null?t:Ja(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return Ja(e(t))}catch{}}return null}function a0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ja(t);case 8:return t===Cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function am(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u0(e){var t=am(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ws(e){e._valueTracker||(e._valueTracker=u0(e))}function um(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=am(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function To(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Za(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function af(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cm(e,t){t=t.checked,t!=null&&Ec(e,"checked",t,!1)}function eu(e,t){cm(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tu(e,t.type,n):t.hasOwnProperty("defaultValue")&&tu(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tu(e,t,n){(t!=="number"||To(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gi=Array.isArray;function Cr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function nu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(gi(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function dm(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function df(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ru(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vs,hm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ui(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c0=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(e){c0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Si[t]=Si[e]})});function pm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Si.hasOwnProperty(e)&&Si[e]?(""+t).trim():t+"px"}function mm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var d0=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iu(e,t){if(t){if(d0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function su(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=null;function Ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lu=null,kr=null,Tr=null;function ff(e){if(e=Ts(e)){if(typeof lu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Cl(t),lu(e.stateNode,e.type,t))}}function gm(e){kr?Tr?Tr.push(e):Tr=[e]:kr=e}function ym(){if(kr){var e=kr,t=Tr;if(Tr=kr=null,ff(e),t)for(e=0;e<t.length;e++)ff(t[e])}}function vm(e,t){return e(t)}function _m(){}var ia=!1;function wm(e,t,n){if(ia)return e(t,n);ia=!0;try{return vm(e,t,n)}finally{ia=!1,(kr!==null||Tr!==null)&&(_m(),ym())}}function Bi(e,t){var n=e.stateNode;if(n===null)return null;var r=Cl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var au=!1;if(Lt)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){au=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{au=!1}function f0(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Ei=!1,Io=null,xo=!1,uu=null,h0={onError:function(e){Ei=!0,Io=e}};function p0(e,t,n,r,i,s,o,l,a){Ei=!1,Io=null,f0.apply(h0,arguments)}function m0(e,t,n,r,i,s,o,l,a){if(p0.apply(this,arguments),Ei){if(Ei){var u=Io;Ei=!1,Io=null}else throw Error(R(198));xo||(xo=!0,uu=u)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hf(e){if(nr(e)!==e)throw Error(R(188))}function g0(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hf(i),e;if(s===r)return hf(i),t;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Em(e){return e=g0(e),e!==null?Cm(e):null}function Cm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cm(e);if(t!==null)return t;e=e.sibling}return null}var km=Ze.unstable_scheduleCallback,pf=Ze.unstable_cancelCallback,y0=Ze.unstable_shouldYield,v0=Ze.unstable_requestPaint,ce=Ze.unstable_now,_0=Ze.unstable_getCurrentPriorityLevel,xc=Ze.unstable_ImmediatePriority,Tm=Ze.unstable_UserBlockingPriority,No=Ze.unstable_NormalPriority,w0=Ze.unstable_LowPriority,Im=Ze.unstable_IdlePriority,_l=null,Tt=null;function S0(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(_l,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:k0,E0=Math.log,C0=Math.LN2;function k0(e){return e>>>=0,e===0?32:31-(E0(e)/C0|0)|0}var Hs=64,Qs=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ro(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=yi(l):(s&=o,s!==0&&(r=yi(s)))}else o=n&~i,o!==0?r=yi(o):s!==0&&(r=yi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),i=1<<n,r|=e[n],t&=~i;return r}function T0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-gt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=T0(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function cu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xm(){var e=Hs;return Hs<<=1,!(Hs&4194240)&&(Hs=64),e}function sa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function x0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-gt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Nc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var K=0;function Nm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rm,Rc,Pm,Om,Dm,du=!1,qs=[],nn=null,rn=null,sn=null,$i=new Map,Wi=new Map,Xt=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mf(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":$i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(t.pointerId)}}function ti(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ts(t),t!==null&&Rc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function R0(e,t,n,r,i){switch(t){case"focusin":return nn=ti(nn,e,t,n,r,i),!0;case"dragenter":return rn=ti(rn,e,t,n,r,i),!0;case"mouseover":return sn=ti(sn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $i.set(s,ti($i.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wi.set(s,ti(Wi.get(s)||null,e,t,n,r,i)),!0}return!1}function Am(e){var t=bn(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=Sm(n),t!==null){e.blockedOn=t,Dm(e.priority,function(){Pm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ou=r,n.target.dispatchEvent(r),ou=null}else return t=Ts(n),t!==null&&Rc(t),e.blockedOn=n,!1;t.shift()}return!0}function gf(e,t,n){ho(e)&&n.delete(t)}function P0(){du=!1,nn!==null&&ho(nn)&&(nn=null),rn!==null&&ho(rn)&&(rn=null),sn!==null&&ho(sn)&&(sn=null),$i.forEach(gf),Wi.forEach(gf)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,du||(du=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,P0)))}function Vi(e){function t(i){return ni(i,e)}if(0<qs.length){ni(qs[0],e);for(var n=1;n<qs.length;n++){var r=qs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(nn!==null&&ni(nn,e),rn!==null&&ni(rn,e),sn!==null&&ni(sn,e),$i.forEach(t),Wi.forEach(t),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)Am(n),n.blockedOn===null&&Xt.shift()}var Ir=Wt.ReactCurrentBatchConfig,Po=!0;function O0(e,t,n,r){var i=K,s=Ir.transition;Ir.transition=null;try{K=1,Pc(e,t,n,r)}finally{K=i,Ir.transition=s}}function D0(e,t,n,r){var i=K,s=Ir.transition;Ir.transition=null;try{K=4,Pc(e,t,n,r)}finally{K=i,Ir.transition=s}}function Pc(e,t,n,r){if(Po){var i=fu(e,t,n,r);if(i===null)ma(e,t,r,Oo,n),mf(e,r);else if(R0(i,e,t,n,r))r.stopPropagation();else if(mf(e,r),t&4&&-1<N0.indexOf(e)){for(;i!==null;){var s=Ts(i);if(s!==null&&Rm(s),s=fu(e,t,n,r),s===null&&ma(e,t,r,Oo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ma(e,t,r,null,n)}}var Oo=null;function fu(e,t,n,r){if(Oo=null,e=Ic(r),e=bn(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oo=e,null}function Mm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_0()){case xc:return 1;case Tm:return 4;case No:case w0:return 16;case Im:return 536870912;default:return 16}default:return 16}}var Zt=null,Oc=null,po=null;function bm(){if(po)return po;var e,t=Oc,n=t.length,r,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return po=i.slice(e,1<r?1-r:void 0)}function mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function yf(){return!1}function nt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ks:yf,this.isPropagationStopped=yf,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=nt(Qr),ks=le({},Qr,{view:0,detail:0}),A0=nt(ks),oa,la,ri,wl=le({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(oa=e.screenX-ri.screenX,la=e.screenY-ri.screenY):la=oa=0,ri=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:la}}),vf=nt(wl),M0=le({},wl,{dataTransfer:0}),b0=nt(M0),L0=le({},ks,{relatedTarget:0}),aa=nt(L0),F0=le({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),j0=nt(F0),z0=le({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U0=nt(z0),B0=le({},Qr,{data:0}),_f=nt(B0),$0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=V0[e])?!!t[e]:!1}function Ac(){return H0}var Q0=le({},ks,{key:function(e){if(e.key){var t=$0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q0=nt(Q0),K0=le({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=nt(K0),G0=le({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),Y0=nt(G0),X0=le({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),J0=nt(X0),Z0=le({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ew=nt(Z0),tw=[9,13,27,32],Mc=Lt&&"CompositionEvent"in window,Ci=null;Lt&&"documentMode"in document&&(Ci=document.documentMode);var nw=Lt&&"TextEvent"in window&&!Ci,Lm=Lt&&(!Mc||Ci&&8<Ci&&11>=Ci),Sf=" ",Ef=!1;function Fm(e,t){switch(e){case"keyup":return tw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function rw(e,t){switch(e){case"compositionend":return jm(t);case"keypress":return t.which!==32?null:(Ef=!0,Sf);case"textInput":return e=t.data,e===Sf&&Ef?null:e;default:return null}}function iw(e,t){if(fr)return e==="compositionend"||!Mc&&Fm(e,t)?(e=bm(),po=Oc=Zt=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lm&&t.locale!=="ko"?null:t.data;default:return null}}var sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sw[e.type]:t==="textarea"}function zm(e,t,n,r){gm(r),t=Do(t,"onChange"),0<t.length&&(n=new Dc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ki=null,Hi=null;function ow(e){Ym(e,0)}function Sl(e){var t=mr(e);if(um(t))return e}function lw(e,t){if(e==="change")return t}var Um=!1;if(Lt){var ua;if(Lt){var ca="oninput"in document;if(!ca){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),ca=typeof kf.oninput=="function"}ua=ca}else ua=!1;Um=ua&&(!document.documentMode||9<document.documentMode)}function Tf(){ki&&(ki.detachEvent("onpropertychange",Bm),Hi=ki=null)}function Bm(e){if(e.propertyName==="value"&&Sl(Hi)){var t=[];zm(t,Hi,e,Ic(e)),wm(ow,t)}}function aw(e,t,n){e==="focusin"?(Tf(),ki=t,Hi=n,ki.attachEvent("onpropertychange",Bm)):e==="focusout"&&Tf()}function uw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sl(Hi)}function cw(e,t){if(e==="click")return Sl(t)}function dw(e,t){if(e==="input"||e==="change")return Sl(t)}function fw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:fw;function Qi(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ka.call(t,i)||!wt(e[i],t[i]))return!1}return!0}function If(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xf(e,t){var n=If(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=If(n)}}function $m(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$m(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wm(){for(var e=window,t=To();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=To(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hw(e){var t=Wm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$m(n.ownerDocument.documentElement,n)){if(r!==null&&bc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=xf(n,s);var o=xf(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pw=Lt&&"documentMode"in document&&11>=document.documentMode,hr=null,hu=null,Ti=null,pu=!1;function Nf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pu||hr==null||hr!==To(r)||(r=hr,"selectionStart"in r&&bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ti&&Qi(Ti,r)||(Ti=r,r=Do(hu,"onSelect"),0<r.length&&(t=new Dc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function Gs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},da={},Vm={};Lt&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function El(e){if(da[e])return da[e];if(!pr[e])return e;var t=pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vm)return da[e]=t[n];return e}var Hm=El("animationend"),Qm=El("animationiteration"),qm=El("animationstart"),Km=El("transitionend"),Gm=new Map,Rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){Gm.set(e,t),tr(t,[e])}for(var fa=0;fa<Rf.length;fa++){var ha=Rf[fa],mw=ha.toLowerCase(),gw=ha[0].toUpperCase()+ha.slice(1);kn(mw,"on"+gw)}kn(Hm,"onAnimationEnd");kn(Qm,"onAnimationIteration");kn(qm,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(Km,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function Pf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,m0(r,t,void 0,e),e.currentTarget=null}function Ym(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Pf(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Pf(i,l,u),s=a}}}if(xo)throw e=uu,xo=!1,uu=null,e}function te(e,t){var n=t[_u];n===void 0&&(n=t[_u]=new Set);var r=e+"__bubble";n.has(r)||(Xm(t,e,2,!1),n.add(r))}function pa(e,t,n){var r=0;t&&(r|=4),Xm(n,e,r,t)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[Ys]){e[Ys]=!0,im.forEach(function(n){n!=="selectionchange"&&(yw.has(n)||pa(n,!1,e),pa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ys]||(t[Ys]=!0,pa("selectionchange",!1,t))}}function Xm(e,t,n,r){switch(Mm(t)){case 1:var i=O0;break;case 4:i=D0;break;default:i=Pc}n=i.bind(null,t,n,e),i=void 0,!au||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ma(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=bn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}wm(function(){var u=s,f=Ic(n),c=[];e:{var d=Gm.get(e);if(d!==void 0){var m=Dc,y=e;switch(e){case"keypress":if(mo(n)===0)break e;case"keydown":case"keyup":m=q0;break;case"focusin":y="focus",m=aa;break;case"focusout":y="blur",m=aa;break;case"beforeblur":case"afterblur":m=aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=b0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Y0;break;case Hm:case Qm:case qm:m=j0;break;case Km:m=J0;break;case"scroll":m=A0;break;case"wheel":m=ew;break;case"copy":case"cut":case"paste":m=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=wf}var v=(t&4)!==0,w=!v&&e==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var h=u,p;h!==null;){p=h;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,g!==null&&(_=Bi(h,g),_!=null&&v.push(Ki(h,_,p)))),w)break;h=h.return}0<v.length&&(d=new m(d,y,null,n,f),c.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==ou&&(y=n.relatedTarget||n.fromElement)&&(bn(y)||y[Ft]))break e;if((m||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?bn(y):null,y!==null&&(w=nr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=vf,_="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(v=wf,_="onPointerLeave",g="onPointerEnter",h="pointer"),w=m==null?d:mr(m),p=y==null?d:mr(y),d=new v(_,h+"leave",m,n,f),d.target=w,d.relatedTarget=p,_=null,bn(f)===u&&(v=new v(g,h+"enter",y,n,f),v.target=p,v.relatedTarget=w,_=v),w=_,m&&y)t:{for(v=m,g=y,h=0,p=v;p;p=or(p))h++;for(p=0,_=g;_;_=or(_))p++;for(;0<h-p;)v=or(v),h--;for(;0<p-h;)g=or(g),p--;for(;h--;){if(v===g||g!==null&&v===g.alternate)break t;v=or(v),g=or(g)}v=null}else v=null;m!==null&&Of(c,d,m,v,!1),y!==null&&w!==null&&Of(c,w,y,v,!0)}}e:{if(d=u?mr(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var C=lw;else if(Cf(d))if(Um)C=dw;else{C=uw;var E=aw}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=cw);if(C&&(C=C(e,u))){zm(c,C,n,f);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&tu(d,"number",d.value)}switch(E=u?mr(u):window,e){case"focusin":(Cf(E)||E.contentEditable==="true")&&(hr=E,hu=u,Ti=null);break;case"focusout":Ti=hu=hr=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,Nf(c,n,f);break;case"selectionchange":if(pw)break;case"keydown":case"keyup":Nf(c,n,f)}var S;if(Mc)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else fr?Fm(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Lm&&n.locale!=="ko"&&(fr||k!=="onCompositionStart"?k==="onCompositionEnd"&&fr&&(S=bm()):(Zt=f,Oc="value"in Zt?Zt.value:Zt.textContent,fr=!0)),E=Do(u,k),0<E.length&&(k=new _f(k,e,null,n,f),c.push({event:k,listeners:E}),S?k.data=S:(S=jm(n),S!==null&&(k.data=S)))),(S=nw?rw(e,n):iw(e,n))&&(u=Do(u,"onBeforeInput"),0<u.length&&(f=new _f("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=S))}Ym(c,t)})}function Ki(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Do(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bi(e,n),s!=null&&r.unshift(Ki(e,s,i)),s=Bi(e,t),s!=null&&r.push(Ki(e,s,i))),e=e.return}return r}function or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Of(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Bi(n,s),a!=null&&o.unshift(Ki(n,a,l))):i||(a=Bi(n,s),a!=null&&o.push(Ki(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var vw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function Df(e){return(typeof e=="string"?e:""+e).replace(vw,`
`).replace(_w,"")}function Xs(e,t,n){if(t=Df(t),Df(e)!==t&&n)throw Error(R(425))}function Ao(){}var mu=null,gu=null;function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vu=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,Sw=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(e){return Af.resolve(null).then(e).catch(Ew)}:vu;function Ew(e){setTimeout(function(){throw e})}function ga(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vi(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),kt="__reactFiber$"+qr,Gi="__reactProps$"+qr,Ft="__reactContainer$"+qr,_u="__reactEvents$"+qr,Cw="__reactListeners$"+qr,kw="__reactHandles$"+qr;function bn(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mf(e);e!==null;){if(n=e[kt])return n;e=Mf(e)}return t}e=n,n=e.parentNode}return null}function Ts(e){return e=e[kt]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Cl(e){return e[Gi]||null}var wu=[],gr=-1;function Tn(e){return{current:e}}function re(e){0>gr||(e.current=wu[gr],wu[gr]=null,gr--)}function ee(e,t){gr++,wu[gr]=e.current,e.current=t}var yn={},Ae=Tn(yn),$e=Tn(!1),Vn=yn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function We(e){return e=e.childContextTypes,e!=null}function Mo(){re($e),re(Ae)}function bf(e,t,n){if(Ae.current!==yn)throw Error(R(168));ee(Ae,t),ee($e,n)}function Jm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(R(108,a0(e)||"Unknown",i));return le({},n,r)}function bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Vn=Ae.current,ee(Ae,e),ee($e,$e.current),!0}function Lf(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Jm(e,t,Vn),r.__reactInternalMemoizedMergedChildContext=e,re($e),re(Ae),ee(Ae,e)):re($e),ee($e,n)}var Pt=null,kl=!1,ya=!1;function Zm(e){Pt===null?Pt=[e]:Pt.push(e)}function Tw(e){kl=!0,Zm(e)}function In(){if(!ya&&Pt!==null){ya=!0;var e=0,t=K;try{var n=Pt;for(K=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pt=null,kl=!1}catch(i){throw Pt!==null&&(Pt=Pt.slice(e+1)),km(xc,In),i}finally{K=t,ya=!1}}return null}var yr=[],vr=0,Lo=null,Fo=0,rt=[],it=0,Hn=null,Ot=1,Dt="";function Rn(e,t){yr[vr++]=Fo,yr[vr++]=Lo,Lo=e,Fo=t}function eg(e,t,n){rt[it++]=Ot,rt[it++]=Dt,rt[it++]=Hn,Hn=e;var r=Ot;e=Dt;var i=32-gt(r)-1;r&=~(1<<i),n+=1;var s=32-gt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ot=1<<32-gt(t)+i|n<<i|r,Dt=s+e}else Ot=1<<s|n<<i|r,Dt=e}function Lc(e){e.return!==null&&(Rn(e,1),eg(e,1,0))}function Fc(e){for(;e===Lo;)Lo=yr[--vr],yr[vr]=null,Fo=yr[--vr],yr[vr]=null;for(;e===Hn;)Hn=rt[--it],rt[it]=null,Dt=rt[--it],rt[it]=null,Ot=rt[--it],rt[it]=null}var Xe=null,Ge=null,ie=!1,ft=null;function tg(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ff(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ge=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ge=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hn!==null?{id:Ot,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Ge=null,!0):!1;default:return!1}}function Su(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eu(e){if(ie){var t=Ge;if(t){var n=t;if(!Ff(e,t)){if(Su(e))throw Error(R(418));t=on(n.nextSibling);var r=Xe;t&&Ff(e,t)?tg(r,n):(e.flags=e.flags&-4097|2,ie=!1,Xe=e)}}else{if(Su(e))throw Error(R(418));e.flags=e.flags&-4097|2,ie=!1,Xe=e}}}function jf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Js(e){if(e!==Xe)return!1;if(!ie)return jf(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yu(e.type,e.memoizedProps)),t&&(t=Ge)){if(Su(e))throw ng(),Error(R(418));for(;t;)tg(e,t),t=on(t.nextSibling)}if(jf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ge=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ge=null}}else Ge=Xe?on(e.stateNode.nextSibling):null;return!0}function ng(){for(var e=Ge;e;)e=on(e.nextSibling)}function br(){Ge=Xe=null,ie=!1}function jc(e){ft===null?ft=[e]:ft.push(e)}var Iw=Wt.ReactCurrentBatchConfig;function ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zf(e){var t=e._init;return t(e._payload)}function rg(e){function t(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function n(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=cn(g,h),g.index=0,g.sibling=null,g}function s(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,h,p,_){return h===null||h.tag!==6?(h=ka(p,g.mode,_),h.return=g,h):(h=i(h,p),h.return=g,h)}function a(g,h,p,_){var C=p.type;return C===dr?f(g,h,p.props.children,_,p.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gt&&zf(C)===h.type)?(_=i(h,p.props),_.ref=ii(g,h,p),_.return=g,_):(_=Eo(p.type,p.key,p.props,null,g.mode,_),_.ref=ii(g,h,p),_.return=g,_)}function u(g,h,p,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Ta(p,g.mode,_),h.return=g,h):(h=i(h,p.children||[]),h.return=g,h)}function f(g,h,p,_,C){return h===null||h.tag!==7?(h=Wn(p,g.mode,_,C),h.return=g,h):(h=i(h,p),h.return=g,h)}function c(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=ka(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case $s:return p=Eo(h.type,h.key,h.props,null,g.mode,p),p.ref=ii(g,null,h),p.return=g,p;case cr:return h=Ta(h,g.mode,p),h.return=g,h;case Gt:var _=h._init;return c(g,_(h._payload),p)}if(gi(h)||Zr(h))return h=Wn(h,g.mode,p,null),h.return=g,h;Zs(g,h)}return null}function d(g,h,p,_){var C=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return C!==null?null:l(g,h,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:return p.key===C?a(g,h,p,_):null;case cr:return p.key===C?u(g,h,p,_):null;case Gt:return C=p._init,d(g,h,C(p._payload),_)}if(gi(p)||Zr(p))return C!==null?null:f(g,h,p,_,null);Zs(g,p)}return null}function m(g,h,p,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(p)||null,l(h,g,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $s:return g=g.get(_.key===null?p:_.key)||null,a(h,g,_,C);case cr:return g=g.get(_.key===null?p:_.key)||null,u(h,g,_,C);case Gt:var E=_._init;return m(g,h,p,E(_._payload),C)}if(gi(_)||Zr(_))return g=g.get(p)||null,f(h,g,_,C,null);Zs(h,_)}return null}function y(g,h,p,_){for(var C=null,E=null,S=h,k=h=0,I=null;S!==null&&k<p.length;k++){S.index>k?(I=S,S=null):I=S.sibling;var T=d(g,S,p[k],_);if(T===null){S===null&&(S=I);break}e&&S&&T.alternate===null&&t(g,S),h=s(T,h,k),E===null?C=T:E.sibling=T,E=T,S=I}if(k===p.length)return n(g,S),ie&&Rn(g,k),C;if(S===null){for(;k<p.length;k++)S=c(g,p[k],_),S!==null&&(h=s(S,h,k),E===null?C=S:E.sibling=S,E=S);return ie&&Rn(g,k),C}for(S=r(g,S);k<p.length;k++)I=m(S,g,k,p[k],_),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?k:I.key),h=s(I,h,k),E===null?C=I:E.sibling=I,E=I);return e&&S.forEach(function(N){return t(g,N)}),ie&&Rn(g,k),C}function v(g,h,p,_){var C=Zr(p);if(typeof C!="function")throw Error(R(150));if(p=C.call(p),p==null)throw Error(R(151));for(var E=C=null,S=h,k=h=0,I=null,T=p.next();S!==null&&!T.done;k++,T=p.next()){S.index>k?(I=S,S=null):I=S.sibling;var N=d(g,S,T.value,_);if(N===null){S===null&&(S=I);break}e&&S&&N.alternate===null&&t(g,S),h=s(N,h,k),E===null?C=N:E.sibling=N,E=N,S=I}if(T.done)return n(g,S),ie&&Rn(g,k),C;if(S===null){for(;!T.done;k++,T=p.next())T=c(g,T.value,_),T!==null&&(h=s(T,h,k),E===null?C=T:E.sibling=T,E=T);return ie&&Rn(g,k),C}for(S=r(g,S);!T.done;k++,T=p.next())T=m(S,g,k,T.value,_),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?k:T.key),h=s(T,h,k),E===null?C=T:E.sibling=T,E=T);return e&&S.forEach(function(A){return t(g,A)}),ie&&Rn(g,k),C}function w(g,h,p,_){if(typeof p=="object"&&p!==null&&p.type===dr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:e:{for(var C=p.key,E=h;E!==null;){if(E.key===C){if(C=p.type,C===dr){if(E.tag===7){n(g,E.sibling),h=i(E,p.props.children),h.return=g,g=h;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gt&&zf(C)===E.type){n(g,E.sibling),h=i(E,p.props),h.ref=ii(g,E,p),h.return=g,g=h;break e}n(g,E);break}else t(g,E);E=E.sibling}p.type===dr?(h=Wn(p.props.children,g.mode,_,p.key),h.return=g,g=h):(_=Eo(p.type,p.key,p.props,null,g.mode,_),_.ref=ii(g,h,p),_.return=g,g=_)}return o(g);case cr:e:{for(E=p.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(g,h.sibling),h=i(h,p.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else t(g,h);h=h.sibling}h=Ta(p,g.mode,_),h.return=g,g=h}return o(g);case Gt:return E=p._init,w(g,h,E(p._payload),_)}if(gi(p))return y(g,h,p,_);if(Zr(p))return v(g,h,p,_);Zs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,p),h.return=g,g=h):(n(g,h),h=ka(p,g.mode,_),h.return=g,g=h),o(g)):n(g,h)}return w}var Lr=rg(!0),ig=rg(!1),jo=Tn(null),zo=null,_r=null,zc=null;function Uc(){zc=_r=zo=null}function Bc(e){var t=jo.current;re(jo),e._currentValue=t}function Cu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xr(e,t){zo=e,zc=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(zc!==e)if(e={context:e,memoizedValue:t,next:null},_r===null){if(zo===null)throw Error(R(308));_r=e,zo.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var Ln=null;function $c(e){Ln===null?Ln=[e]:Ln.push(e)}function sg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$c(t)):(n.next=i.next,i.next=n),t.interleaved=n,jt(e,r)}function jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yt=!1;function Wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function og(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jt(e,n)}return i=r.interleaved,i===null?(t.next=t,$c(r)):(t.next=i.next,i.next=t),r.interleaved=t,jt(e,n)}function go(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}function Uf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Yt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,f=u=a=null,l=s;do{var d=l.lane,m=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(d=t,m=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){c=y.call(m,c,d);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,d=typeof y=="function"?y.call(m,c,d):y,d==null)break e;c=le({},c,d);break e;case 2:Yt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else m={eventTime:m,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,a=c):f=f.next=m,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);qn|=o,e.lanes=o,e.memoizedState=c}}function Bf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Is={},It=Tn(Is),Yi=Tn(Is),Xi=Tn(Is);function Fn(e){if(e===Is)throw Error(R(174));return e}function Vc(e,t){switch(ee(Xi,t),ee(Yi,e),ee(It,Is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ru(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ru(t,e)}re(It),ee(It,t)}function Fr(){re(It),re(Yi),re(Xi)}function lg(e){Fn(Xi.current);var t=Fn(It.current),n=ru(t,e.type);t!==n&&(ee(Yi,e),ee(It,n))}function Hc(e){Yi.current===e&&(re(It),re(Yi))}var se=Tn(0);function Bo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var va=[];function Qc(){for(var e=0;e<va.length;e++)va[e]._workInProgressVersionPrimary=null;va.length=0}var yo=Wt.ReactCurrentDispatcher,_a=Wt.ReactCurrentBatchConfig,Qn=0,oe=null,pe=null,we=null,$o=!1,Ii=!1,Ji=0,xw=0;function Re(){throw Error(R(321))}function qc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wt(e[n],t[n]))return!1;return!0}function Kc(e,t,n,r,i,s){if(Qn=s,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yo.current=e===null||e.memoizedState===null?Ow:Dw,e=n(r,i),Ii){s=0;do{if(Ii=!1,Ji=0,25<=s)throw Error(R(301));s+=1,we=pe=null,t.updateQueue=null,yo.current=Aw,e=n(r,i)}while(Ii)}if(yo.current=Wo,t=pe!==null&&pe.next!==null,Qn=0,we=pe=oe=null,$o=!1,t)throw Error(R(300));return e}function Gc(){var e=Ji!==0;return Ji=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?oe.memoizedState=we=e:we=we.next=e,we}function at(){if(pe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=we===null?oe.memoizedState:we.next;if(t!==null)we=t,pe=e;else{if(e===null)throw Error(R(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},we===null?oe.memoizedState=we=e:we=we.next=e}return we}function Zi(e,t){return typeof t=="function"?t(e):t}function wa(e){var t=at(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=pe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((Qn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,oe.lanes|=f,qn|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,wt(r,t.memoizedState)||(Ue=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,oe.lanes|=s,qn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=at(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);wt(s,t.memoizedState)||(Ue=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ag(){}function ug(e,t){var n=oe,r=at(),i=t(),s=!wt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ue=!0),r=r.queue,Yc(fg.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,es(9,dg.bind(null,n,r,i,t),void 0,null),Ce===null)throw Error(R(349));Qn&30||cg(n,t,i)}return i}function cg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dg(e,t,n,r){t.value=n,t.getSnapshot=r,hg(t)&&pg(e)}function fg(e,t,n){return n(function(){hg(t)&&pg(e)})}function hg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wt(e,n)}catch{return!0}}function pg(e){var t=jt(e,1);t!==null&&yt(t,e,1,-1)}function $f(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},t.queue=e,e=e.dispatch=Pw.bind(null,oe,e),[t.memoizedState,e]}function es(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mg(){return at().memoizedState}function vo(e,t,n,r){var i=Ct();oe.flags|=e,i.memoizedState=es(1|t,n,void 0,r===void 0?null:r)}function Tl(e,t,n,r){var i=at();r=r===void 0?null:r;var s=void 0;if(pe!==null){var o=pe.memoizedState;if(s=o.destroy,r!==null&&qc(r,o.deps)){i.memoizedState=es(t,n,s,r);return}}oe.flags|=e,i.memoizedState=es(1|t,n,s,r)}function Wf(e,t){return vo(8390656,8,e,t)}function Yc(e,t){return Tl(2048,8,e,t)}function gg(e,t){return Tl(4,2,e,t)}function yg(e,t){return Tl(4,4,e,t)}function vg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _g(e,t,n){return n=n!=null?n.concat([e]):null,Tl(4,4,vg.bind(null,t,e),n)}function Xc(){}function wg(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sg(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Eg(e,t,n){return Qn&21?(wt(n,t)||(n=xm(),oe.lanes|=n,qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=n)}function Nw(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var r=_a.transition;_a.transition={};try{e(!1),t()}finally{K=n,_a.transition=r}}function Cg(){return at().memoizedState}function Rw(e,t,n){var r=un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kg(e))Tg(t,n);else if(n=sg(e,t,n,r),n!==null){var i=Le();yt(n,e,r,i),Ig(n,t,r)}}function Pw(e,t,n){var r=un(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kg(e))Tg(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,wt(l,o)){var a=t.interleaved;a===null?(i.next=i,$c(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=sg(e,t,i,r),n!==null&&(i=Le(),yt(n,e,r,i),Ig(n,t,r))}}function kg(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Tg(e,t){Ii=$o=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ig(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}var Wo={readContext:lt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Ow={readContext:lt,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Wf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vo(4194308,4,vg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return vo(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rw.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:$f,useDebugValue:Xc,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=$f(!1),t=e[0];return e=Nw.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,i=Ct();if(ie){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ce===null)throw Error(R(349));Qn&30||cg(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Wf(fg.bind(null,r,s,e),[e]),r.flags|=2048,es(9,dg.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ct(),t=Ce.identifierPrefix;if(ie){var n=Dt,r=Ot;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dw={readContext:lt,useCallback:wg,useContext:lt,useEffect:Yc,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Sg,useReducer:wa,useRef:mg,useState:function(){return wa(Zi)},useDebugValue:Xc,useDeferredValue:function(e){var t=at();return Eg(t,pe.memoizedState,e)},useTransition:function(){var e=wa(Zi)[0],t=at().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:ug,useId:Cg,unstable_isNewReconciler:!1},Aw={readContext:lt,useCallback:wg,useContext:lt,useEffect:Yc,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Sg,useReducer:Sa,useRef:mg,useState:function(){return Sa(Zi)},useDebugValue:Xc,useDeferredValue:function(e){var t=at();return pe===null?t.memoizedState=e:Eg(t,pe.memoizedState,e)},useTransition:function(){var e=Sa(Zi)[0],t=at().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:ug,useId:Cg,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ku(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Il={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Le(),i=un(e),s=Mt(r,i);s.payload=t,n!=null&&(s.callback=n),t=ln(e,s,i),t!==null&&(yt(t,e,i,r),go(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Le(),i=un(e),s=Mt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ln(e,s,i),t!==null&&(yt(t,e,i,r),go(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Le(),r=un(e),i=Mt(n,r);i.tag=2,t!=null&&(i.callback=t),t=ln(e,i,r),t!==null&&(yt(t,e,r,n),go(t,e,r))}};function Vf(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Qi(n,r)||!Qi(i,s):!0}function xg(e,t,n){var r=!1,i=yn,s=t.contextType;return typeof s=="object"&&s!==null?s=lt(s):(i=We(t)?Vn:Ae.current,r=t.contextTypes,s=(r=r!=null)?Mr(e,i):yn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Il.enqueueReplaceState(t,t.state,null)}function Tu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Wc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=lt(s):(s=We(t)?Vn:Ae.current,i.context=Mr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ku(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Il.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var n="",r=t;do n+=l0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ea(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Iu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mw=typeof WeakMap=="function"?WeakMap:Map;function Ng(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ho||(Ho=!0,Lu=r),Iu(e,t)},n}function Rg(e,t,n){n=Mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Iu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Iu(e,t),typeof r!="function"&&(an===null?an=new Set([this]):an.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mw;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Kw.bind(null,e,t,n),t.then(e,e))}function qf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var bw=Wt.ReactCurrentOwner,Ue=!1;function Me(e,t,n,r){t.child=e===null?ig(t,null,n,r):Lr(t,e.child,n,r)}function Gf(e,t,n,r,i){n=n.render;var s=t.ref;return xr(t,i),r=Kc(e,t,n,r,s,i),n=Gc(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zt(e,t,i)):(ie&&n&&Lc(t),t.flags|=1,Me(e,t,r,i),t.child)}function Yf(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!sd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Pg(e,t,s,r,i)):(e=Eo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(o,r)&&e.ref===t.ref)return zt(e,t,i)}return t.flags|=1,e=cn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Pg(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Qi(s,r)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,zt(e,t,i)}return xu(e,t,n,r,i)}function Og(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Sr,Ke),Ke|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Sr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ee(Sr,Ke),Ke|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ee(Sr,Ke),Ke|=r;return Me(e,t,i,n),t.child}function Dg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,i){var s=We(n)?Vn:Ae.current;return s=Mr(t,s),xr(t,i),n=Kc(e,t,n,r,s,i),r=Gc(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zt(e,t,i)):(ie&&r&&Lc(t),t.flags|=1,Me(e,t,n,i),t.child)}function Xf(e,t,n,r,i){if(We(n)){var s=!0;bo(t)}else s=!1;if(xr(t,i),t.stateNode===null)_o(e,t),xg(t,n,r),Tu(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=We(n)?Vn:Ae.current,u=Mr(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Hf(t,o,r,u),Yt=!1;var d=t.memoizedState;o.state=d,Uo(t,r,o,i),a=t.memoizedState,l!==r||d!==a||$e.current||Yt?(typeof f=="function"&&(ku(t,n,f,r),a=t.memoizedState),(l=Yt||Vf(t,n,l,r,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,og(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ct(t.type,l),o.props=u,c=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=lt(a):(a=We(n)?Vn:Ae.current,a=Mr(t,a));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&Hf(t,o,r,a),Yt=!1,d=t.memoizedState,o.state=d,Uo(t,r,o,i);var y=t.memoizedState;l!==c||d!==y||$e.current||Yt?(typeof m=="function"&&(ku(t,n,m,r),y=t.memoizedState),(u=Yt||Vf(t,n,u,r,d,y,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,s,i)}function Nu(e,t,n,r,i,s){Dg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Lf(t,n,!1),zt(e,t,s);r=t.stateNode,bw.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lr(t,e.child,null,s),t.child=Lr(t,null,l,s)):Me(e,t,l,s),t.memoizedState=r.state,i&&Lf(t,n,!0),t.child}function Ag(e){var t=e.stateNode;t.pendingContext?bf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bf(e,t.context,!1),Vc(e,t.containerInfo)}function Jf(e,t,n,r,i){return br(),jc(i),t.flags|=256,Me(e,t,n,r),t.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function Pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mg(e,t,n){var r=t.pendingProps,i=se.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ee(se,i&1),e===null)return Eu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rl(o,r,0,null),e=Wn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Pu(n),t.memoizedState=Ru,e):Jc(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Lw(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=cn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=cn(l,s):(s=Wn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Pu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ru,r}return s=e.child,e=s.sibling,r=cn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jc(e,t){return t=Rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function eo(e,t,n,r){return r!==null&&jc(r),Lr(t,e.child,null,n),e=Jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lw(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Ea(Error(R(422))),eo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Rl({mode:"visible",children:r.children},i,0,null),s=Wn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Lr(t,e.child,null,o),t.child.memoizedState=Pu(o),t.memoizedState=Ru,s);if(!(t.mode&1))return eo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(R(419)),r=Ea(s,r,void 0),eo(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ue||l){if(r=Ce,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jt(e,i),yt(r,e,i,-1))}return id(),r=Ea(Error(R(421))),eo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Gw.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ge=on(i.nextSibling),Xe=t,ie=!0,ft=null,e!==null&&(rt[it++]=Ot,rt[it++]=Dt,rt[it++]=Hn,Ot=e.id,Dt=e.overflow,Hn=t),t=Jc(t,r.children),t.flags|=4096,t)}function Zf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cu(e.return,t,n)}function Ca(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function bg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Me(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zf(e,n,t);else if(e.tag===19)Zf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(se,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ca(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ca(t,!0,n,null,s);break;case"together":Ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _o(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fw(e,t,n){switch(t.tag){case 3:Ag(t),br();break;case 5:lg(t);break;case 1:We(t.type)&&bo(t);break;case 4:Vc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ee(jo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Mg(e,t,n):(ee(se,se.current&1),e=zt(e,t,n),e!==null?e.sibling:null);ee(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,Og(e,t,n)}return zt(e,t,n)}var Lg,Ou,Fg,jg;Lg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ou=function(){};Fg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Fn(It.current);var s=null;switch(n){case"input":i=Za(e,i),r=Za(e,r),s=[];break;case"select":i=le({},i,{value:void 0}),r=le({},r,{value:void 0}),s=[];break;case"textarea":i=nu(e,i),r=nu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ao)}iu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&te("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};jg=function(e,t,n,r){n!==r&&(t.flags|=4)};function si(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jw(e,t,n){var r=t.pendingProps;switch(Fc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return We(t.type)&&Mo(),Pe(t),null;case 3:return r=t.stateNode,Fr(),re($e),re(Ae),Qc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(zu(ft),ft=null))),Ou(e,t),Pe(t),null;case 5:Hc(t);var i=Fn(Xi.current);if(n=t.type,e!==null&&t.stateNode!=null)Fg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Pe(t),null}if(e=Fn(It.current),Js(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[kt]=t,r[Gi]=s,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<vi.length;i++)te(vi[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":af(r,s),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},te("invalid",r);break;case"textarea":cf(r,s),te("invalid",r)}iu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Xs(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Xs(r.textContent,l,e),i=["children",""+l]):zi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":Ws(r),uf(r,s,!0);break;case"textarea":Ws(r),df(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ao)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[kt]=t,e[Gi]=r,Lg(e,t,!1,!1),t.stateNode=e;e:{switch(o=su(n,r),n){case"dialog":te("cancel",e),te("close",e),i=r;break;case"iframe":case"object":case"embed":te("load",e),i=r;break;case"video":case"audio":for(i=0;i<vi.length;i++)te(vi[i],e);i=r;break;case"source":te("error",e),i=r;break;case"img":case"image":case"link":te("error",e),te("load",e),i=r;break;case"details":te("toggle",e),i=r;break;case"input":af(e,r),i=Za(e,r),te("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=le({},r,{value:void 0}),te("invalid",e);break;case"textarea":cf(e,r),i=nu(e,r),te("invalid",e);break;default:i=r}iu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?mm(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&hm(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ui(e,a):typeof a=="number"&&Ui(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&te("scroll",e):a!=null&&Ec(e,s,a,o))}switch(n){case"input":Ws(e),uf(e,r,!1);break;case"textarea":Ws(e),df(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Cr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Cr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ao)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)jg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Fn(Xi.current),Fn(It.current),Js(t)){if(r=t.stateNode,n=t.memoizedProps,r[kt]=t,(s=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:Xs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=t,t.stateNode=r}return Pe(t),null;case 13:if(re(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ge!==null&&t.mode&1&&!(t.flags&128))ng(),br(),t.flags|=98560,s=!1;else if(s=Js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[kt]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),s=!1}else ft!==null&&(zu(ft),ft=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?ye===0&&(ye=3):id())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return Fr(),Ou(e,t),e===null&&qi(t.stateNode.containerInfo),Pe(t),null;case 10:return Bc(t.type._context),Pe(t),null;case 17:return We(t.type)&&Mo(),Pe(t),null;case 19:if(re(se),s=t.memoizedState,s===null)return Pe(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)si(s,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bo(e),o!==null){for(t.flags|=128,si(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(se,se.current&1|2),t.child}e=e.sibling}s.tail!==null&&ce()>zr&&(t.flags|=128,r=!0,si(s,!1),t.lanes=4194304)}else{if(!r)if(e=Bo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),si(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ie)return Pe(t),null}else 2*ce()-s.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,r=!0,si(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ce(),t.sibling=null,n=se.current,ee(se,r?n&1|2:n&1),t):(Pe(t),null);case 22:case 23:return rd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function zw(e,t){switch(Fc(t),t.tag){case 1:return We(t.type)&&Mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(),re($e),re(Ae),Qc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hc(t),null;case 13:if(re(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(se),null;case 4:return Fr(),null;case 10:return Bc(t.type._context),null;case 22:case 23:return rd(),null;case 24:return null;default:return null}}var to=!1,Oe=!1,Uw=typeof WeakSet=="function"?WeakSet:Set,L=null;function wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function Du(e,t,n){try{n()}catch(r){ae(e,t,r)}}var eh=!1;function Bw(e,t){if(mu=Po,e=Wm(),bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var m;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(m=c.firstChild)!==null;)d=c,c=m;for(;;){if(c===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++f===r&&(a=o),(m=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(gu={focusedElem:e,selectionRange:n},Po=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:ct(t.type,v),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(_){ae(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return y=eh,eh=!1,y}function xi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Du(t,n,s)}i=i.next}while(i!==r)}}function xl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Au(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zg(e){var t=e.alternate;t!==null&&(e.alternate=null,zg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Gi],delete t[_u],delete t[Cw],delete t[kw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ug(e){return e.tag===5||e.tag===3||e.tag===4}function th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ug(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ao));else if(r!==4&&(e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}function bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}var Te=null,dt=!1;function qt(e,t,n){for(n=n.child;n!==null;)Bg(e,t,n),n=n.sibling}function Bg(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:Oe||wr(n,t);case 6:var r=Te,i=dt;Te=null,qt(e,t,n),Te=r,dt=i,Te!==null&&(dt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(dt?(e=Te,n=n.stateNode,e.nodeType===8?ga(e.parentNode,n):e.nodeType===1&&ga(e,n),Vi(e)):ga(Te,n.stateNode));break;case 4:r=Te,i=dt,Te=n.stateNode.containerInfo,dt=!0,qt(e,t,n),Te=r,dt=i;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Du(n,t,o),i=i.next}while(i!==r)}qt(e,t,n);break;case 1:if(!Oe&&(wr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ae(n,t,l)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,qt(e,t,n),Oe=r):qt(e,t,n);break;default:qt(e,t,n)}}function nh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uw),t.forEach(function(r){var i=Yw.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,dt=!1;break e;case 3:Te=l.stateNode.containerInfo,dt=!0;break e;case 4:Te=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(Te===null)throw Error(R(160));Bg(s,o,i),Te=null,dt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ae(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$g(t,e),t=t.sibling}function $g(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),Et(e),r&4){try{xi(3,e,e.return),xl(3,e)}catch(v){ae(e,e.return,v)}try{xi(5,e,e.return)}catch(v){ae(e,e.return,v)}}break;case 1:ut(t,e),Et(e),r&512&&n!==null&&wr(n,n.return);break;case 5:if(ut(t,e),Et(e),r&512&&n!==null&&wr(n,n.return),e.flags&32){var i=e.stateNode;try{Ui(i,"")}catch(v){ae(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&cm(i,s),su(l,o);var u=su(l,s);for(o=0;o<a.length;o+=2){var f=a[o],c=a[o+1];f==="style"?mm(i,c):f==="dangerouslySetInnerHTML"?hm(i,c):f==="children"?Ui(i,c):Ec(i,f,c,u)}switch(l){case"input":eu(i,s);break;case"textarea":dm(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Cr(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Cr(i,!!s.multiple,s.defaultValue,!0):Cr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gi]=s}catch(v){ae(e,e.return,v)}}break;case 6:if(ut(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){ae(e,e.return,v)}}break;case 3:if(ut(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(v){ae(e,e.return,v)}break;case 4:ut(t,e),Et(e);break;case 13:ut(t,e),Et(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(td=ce())),r&4&&nh(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||f,ut(t,e),Oe=u):ut(t,e),Et(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(L=e,f=e.child;f!==null;){for(c=L=f;L!==null;){switch(d=L,m=d.child,d.tag){case 0:case 11:case 14:case 15:xi(4,d,d.return);break;case 1:wr(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){ae(r,n,v)}}break;case 5:wr(d,d.return);break;case 22:if(d.memoizedState!==null){ih(c);continue}}m!==null?(m.return=d,L=m):ih(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=pm("display",o))}catch(v){ae(e,e.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){ae(e,e.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ut(t,e),Et(e),r&4&&nh(e);break;case 21:break;default:ut(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ug(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ui(i,""),r.flags&=-33);var s=th(e);bu(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=th(e);Mu(e,l,o);break;default:throw Error(R(161))}}catch(a){ae(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $w(e,t,n){L=e,Wg(e)}function Wg(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||to;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Oe;l=to;var u=Oe;if(to=o,(Oe=a)&&!u)for(L=i;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?sh(i):a!==null?(a.return=o,L=a):sh(i);for(;s!==null;)L=s,Wg(s),s=s.sibling;L=i,to=l,Oe=u}rh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):rh(e)}}function rh(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||xl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ct(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Bf(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bf(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Vi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Oe||t.flags&512&&Au(t)}catch(d){ae(t,t.return,d)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function ih(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function sh(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xl(4,t)}catch(a){ae(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ae(t,i,a)}}var s=t.return;try{Au(t)}catch(a){ae(t,s,a)}break;case 5:var o=t.return;try{Au(t)}catch(a){ae(t,o,a)}}}catch(a){ae(t,t.return,a)}if(t===e){L=null;break}var l=t.sibling;if(l!==null){l.return=t.return,L=l;break}L=t.return}}var Ww=Math.ceil,Vo=Wt.ReactCurrentDispatcher,Zc=Wt.ReactCurrentOwner,ot=Wt.ReactCurrentBatchConfig,Q=0,Ce=null,de=null,xe=0,Ke=0,Sr=Tn(0),ye=0,ts=null,qn=0,Nl=0,ed=0,Ni=null,ze=null,td=0,zr=1/0,Rt=null,Ho=!1,Lu=null,an=null,no=!1,en=null,Qo=0,Ri=0,Fu=null,wo=-1,So=0;function Le(){return Q&6?ce():wo!==-1?wo:wo=ce()}function un(e){return e.mode&1?Q&2&&xe!==0?xe&-xe:Iw.transition!==null?(So===0&&(So=xm()),So):(e=K,e!==0||(e=window.event,e=e===void 0?16:Mm(e.type)),e):1}function yt(e,t,n,r){if(50<Ri)throw Ri=0,Fu=null,Error(R(185));Cs(e,n,r),(!(Q&2)||e!==Ce)&&(e===Ce&&(!(Q&2)&&(Nl|=n),ye===4&&Jt(e,xe)),Ve(e,r),n===1&&Q===0&&!(t.mode&1)&&(zr=ce()+500,kl&&In()))}function Ve(e,t){var n=e.callbackNode;I0(e,t);var r=Ro(e,e===Ce?xe:0);if(r===0)n!==null&&pf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pf(n),t===1)e.tag===0?Tw(oh.bind(null,e)):Zm(oh.bind(null,e)),Sw(function(){!(Q&6)&&In()}),n=null;else{switch(Nm(r)){case 1:n=xc;break;case 4:n=Tm;break;case 16:n=No;break;case 536870912:n=Im;break;default:n=No}n=Xg(n,Vg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vg(e,t){if(wo=-1,So=0,Q&6)throw Error(R(327));var n=e.callbackNode;if(Nr()&&e.callbackNode!==n)return null;var r=Ro(e,e===Ce?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qo(e,r);else{t=r;var i=Q;Q|=2;var s=Qg();(Ce!==e||xe!==t)&&(Rt=null,zr=ce()+500,$n(e,t));do try{Qw();break}catch(l){Hg(e,l)}while(!0);Uc(),Vo.current=s,Q=i,de!==null?t=0:(Ce=null,xe=0,t=ye)}if(t!==0){if(t===2&&(i=cu(e),i!==0&&(r=i,t=ju(e,i))),t===1)throw n=ts,$n(e,0),Jt(e,r),Ve(e,ce()),n;if(t===6)Jt(e,r);else{if(i=e.current.alternate,!(r&30)&&!Vw(i)&&(t=qo(e,r),t===2&&(s=cu(e),s!==0&&(r=s,t=ju(e,s))),t===1))throw n=ts,$n(e,0),Jt(e,r),Ve(e,ce()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Pn(e,ze,Rt);break;case 3:if(Jt(e,r),(r&130023424)===r&&(t=td+500-ce(),10<t)){if(Ro(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Le(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vu(Pn.bind(null,e,ze,Rt),t);break}Pn(e,ze,Rt);break;case 4:if(Jt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-gt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ww(r/1960))-r,10<r){e.timeoutHandle=vu(Pn.bind(null,e,ze,Rt),r);break}Pn(e,ze,Rt);break;case 5:Pn(e,ze,Rt);break;default:throw Error(R(329))}}}return Ve(e,ce()),e.callbackNode===n?Vg.bind(null,e):null}function ju(e,t){var n=Ni;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=qo(e,t),e!==2&&(t=ze,ze=n,t!==null&&zu(t)),e}function zu(e){ze===null?ze=e:ze.push.apply(ze,e)}function Vw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~ed,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function oh(e){if(Q&6)throw Error(R(327));Nr();var t=Ro(e,0);if(!(t&1))return Ve(e,ce()),null;var n=qo(e,t);if(e.tag!==0&&n===2){var r=cu(e);r!==0&&(t=r,n=ju(e,r))}if(n===1)throw n=ts,$n(e,0),Jt(e,t),Ve(e,ce()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,ze,Rt),Ve(e,ce()),null}function nd(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(zr=ce()+500,kl&&In())}}function Kn(e){en!==null&&en.tag===0&&!(Q&6)&&Nr();var t=Q;Q|=1;var n=ot.transition,r=K;try{if(ot.transition=null,K=1,e)return e()}finally{K=r,ot.transition=n,Q=t,!(Q&6)&&In()}}function rd(){Ke=Sr.current,re(Sr)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ww(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Fc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mo();break;case 3:Fr(),re($e),re(Ae),Qc();break;case 5:Hc(r);break;case 4:Fr();break;case 13:re(se);break;case 19:re(se);break;case 10:Bc(r.type._context);break;case 22:case 23:rd()}n=n.return}if(Ce=e,de=e=cn(e.current,null),xe=Ke=t,ye=0,ts=null,ed=Nl=qn=0,ze=Ni=null,Ln!==null){for(t=0;t<Ln.length;t++)if(n=Ln[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ln=null}return e}function Hg(e,t){do{var n=de;try{if(Uc(),yo.current=Wo,$o){for(var r=oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$o=!1}if(Qn=0,we=pe=oe=null,Ii=!1,Ji=0,Zc.current=null,n===null||n.return===null){ye=1,ts=t,de=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=xe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=qf(o);if(m!==null){m.flags&=-257,Kf(m,o,l,s,t),m.mode&1&&Qf(s,u,t),t=m,a=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(a),t.updateQueue=v}else y.add(a);break e}else{if(!(t&1)){Qf(s,u,t),id();break e}a=Error(R(426))}}else if(ie&&l.mode&1){var w=qf(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Kf(w,o,l,s,t),jc(jr(a,l));break e}}s=a=jr(a,l),ye!==4&&(ye=2),Ni===null?Ni=[s]:Ni.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Ng(s,a,t);Uf(s,g);break e;case 1:l=a;var h=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(an===null||!an.has(p)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=Rg(s,l,t);Uf(s,_);break e}}s=s.return}while(s!==null)}Kg(n)}catch(C){t=C,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Qg(){var e=Vo.current;return Vo.current=Wo,e===null?Wo:e}function id(){(ye===0||ye===3||ye===2)&&(ye=4),Ce===null||!(qn&268435455)&&!(Nl&268435455)||Jt(Ce,xe)}function qo(e,t){var n=Q;Q|=2;var r=Qg();(Ce!==e||xe!==t)&&(Rt=null,$n(e,t));do try{Hw();break}catch(i){Hg(e,i)}while(!0);if(Uc(),Q=n,Vo.current=r,de!==null)throw Error(R(261));return Ce=null,xe=0,ye}function Hw(){for(;de!==null;)qg(de)}function Qw(){for(;de!==null&&!y0();)qg(de)}function qg(e){var t=Yg(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?Kg(e):de=t,Zc.current=null}function Kg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zw(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,de=null;return}}else if(n=jw(n,t,Ke),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);ye===0&&(ye=5)}function Pn(e,t,n){var r=K,i=ot.transition;try{ot.transition=null,K=1,qw(e,t,n,r)}finally{ot.transition=i,K=r}return null}function qw(e,t,n,r){do Nr();while(en!==null);if(Q&6)throw Error(R(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(x0(e,s),e===Ce&&(de=Ce=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||no||(no=!0,Xg(No,function(){return Nr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ot.transition,ot.transition=null;var o=K;K=1;var l=Q;Q|=4,Zc.current=null,Bw(e,n),$g(n,e),hw(gu),Po=!!mu,gu=mu=null,e.current=n,$w(n),v0(),Q=l,K=o,ot.transition=s}else e.current=n;if(no&&(no=!1,en=e,Qo=i),s=e.pendingLanes,s===0&&(an=null),S0(n.stateNode),Ve(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ho)throw Ho=!1,e=Lu,Lu=null,e;return Qo&1&&e.tag!==0&&Nr(),s=e.pendingLanes,s&1?e===Fu?Ri++:(Ri=0,Fu=e):Ri=0,In(),null}function Nr(){if(en!==null){var e=Nm(Qo),t=ot.transition,n=K;try{if(ot.transition=null,K=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,Qo=0,Q&6)throw Error(R(331));var i=Q;for(Q|=4,L=e.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:xi(8,f,s)}var c=f.child;if(c!==null)c.return=f,L=c;else for(;L!==null;){f=L;var d=f.sibling,m=f.return;if(zg(f),f===u){L=null;break}if(d!==null){d.return=m,L=d;break}L=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xi(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,L=g;break e}L=s.return}}var h=e.current;for(L=h;L!==null;){o=L;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,L=p;else e:for(o=h;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xl(9,l)}}catch(C){ae(l,l.return,C)}if(l===o){L=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,L=_;break e}L=l.return}}if(Q=i,In(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(_l,e)}catch{}r=!0}return r}finally{K=n,ot.transition=t}}return!1}function lh(e,t,n){t=jr(n,t),t=Ng(e,t,1),e=ln(e,t,1),t=Le(),e!==null&&(Cs(e,1,t),Ve(e,t))}function ae(e,t,n){if(e.tag===3)lh(e,e,n);else for(;t!==null;){if(t.tag===3){lh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(an===null||!an.has(r))){e=jr(n,e),e=Rg(t,e,1),t=ln(t,e,1),e=Le(),t!==null&&(Cs(t,1,e),Ve(t,e));break}}t=t.return}}function Kw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(xe&n)===n&&(ye===4||ye===3&&(xe&130023424)===xe&&500>ce()-td?$n(e,0):ed|=n),Ve(e,t)}function Gg(e,t){t===0&&(e.mode&1?(t=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):t=1);var n=Le();e=jt(e,t),e!==null&&(Cs(e,t,n),Ve(e,n))}function Gw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gg(e,n)}function Yw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Gg(e,n)}var Yg;Yg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)Ue=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ue=!1,Fw(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,ie&&t.flags&1048576&&eg(t,Fo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_o(e,t),e=t.pendingProps;var i=Mr(t,Ae.current);xr(t,n),i=Kc(null,t,r,e,i,n);var s=Gc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(r)?(s=!0,bo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wc(t),i.updater=Il,t.stateNode=i,i._reactInternals=t,Tu(t,r,e,n),t=Nu(null,t,r,!0,s,n)):(t.tag=0,ie&&s&&Lc(t),Me(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_o(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Jw(r),e=ct(r,e),i){case 0:t=xu(null,t,r,e,n);break e;case 1:t=Xf(null,t,r,e,n);break e;case 11:t=Gf(null,t,r,e,n);break e;case 14:t=Yf(null,t,r,ct(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ct(r,i),xu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ct(r,i),Xf(e,t,r,i,n);case 3:e:{if(Ag(t),e===null)throw Error(R(387));r=t.pendingProps,s=t.memoizedState,i=s.element,og(e,t),Uo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=jr(Error(R(423)),t),t=Jf(e,t,r,n,i);break e}else if(r!==i){i=jr(Error(R(424)),t),t=Jf(e,t,r,n,i);break e}else for(Ge=on(t.stateNode.containerInfo.firstChild),Xe=t,ie=!0,ft=null,n=ig(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===i){t=zt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return lg(t),e===null&&Eu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,yu(r,i)?o=null:s!==null&&yu(r,s)&&(t.flags|=32),Dg(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&Eu(t),null;case 13:return Mg(e,t,n);case 4:return Vc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ct(r,i),Gf(e,t,r,i,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ee(jo,r._currentValue),r._currentValue=o,s!==null)if(wt(s.value,o)){if(s.children===i.children&&!$e.current){t=zt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Mt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Cu(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Cu(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Me(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xr(t,n),i=lt(i),r=r(i),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,i=ct(r,t.pendingProps),i=ct(r.type,i),Yf(e,t,r,i,n);case 15:return Pg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ct(r,i),_o(e,t),t.tag=1,We(r)?(e=!0,bo(t)):e=!1,xr(t,n),xg(t,r,i),Tu(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return bg(e,t,n);case 22:return Og(e,t,n)}throw Error(R(156,t.tag))};function Xg(e,t){return km(e,t)}function Xw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new Xw(e,t,n,r)}function sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jw(e){if(typeof e=="function")return sd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kc)return 11;if(e===Tc)return 14}return 2}function cn(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")sd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dr:return Wn(n.children,i,s,t);case Cc:o=8,i|=8;break;case Ga:return e=st(12,n,t,i|2),e.elementType=Ga,e.lanes=s,e;case Ya:return e=st(13,n,t,i),e.elementType=Ya,e.lanes=s,e;case Xa:return e=st(19,n,t,i),e.elementType=Xa,e.lanes=s,e;case lm:return Rl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sm:o=10;break e;case om:o=9;break e;case kc:o=11;break e;case Tc:o=14;break e;case Gt:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=st(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Wn(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function Rl(e,t,n,r){return e=st(22,e,r,t),e.elementType=lm,e.lanes=n,e.stateNode={isHidden:!1},e}function ka(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function Ta(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zw(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function od(e,t,n,r,i,s,o,l,a){return e=new Zw(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=st(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wc(s),e}function eS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Jg(e){if(!e)return yn;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(We(n))return Jm(e,n,t)}return t}function Zg(e,t,n,r,i,s,o,l,a){return e=od(n,r,!0,e,i,s,o,l,a),e.context=Jg(null),n=e.current,r=Le(),i=un(n),s=Mt(r,i),s.callback=t??null,ln(n,s,i),e.current.lanes=i,Cs(e,i,r),Ve(e,r),e}function Pl(e,t,n,r){var i=t.current,s=Le(),o=un(i);return n=Jg(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(i,t,o),e!==null&&(yt(e,i,o,s),go(e,i,o)),o}function Ko(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ah(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ld(e,t){ah(e,t),(e=e.alternate)&&ah(e,t)}function tS(){return null}var ey=typeof reportError=="function"?reportError:function(e){console.error(e)};function ad(e){this._internalRoot=e}Ol.prototype.render=ad.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Pl(e,t,null,null)};Ol.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kn(function(){Pl(null,e,null,null)}),t[Ft]=null}};function Ol(e){this._internalRoot=e}Ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=Om();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&Am(e)}};function ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uh(){}function nS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ko(o);s.call(u)}}var o=Zg(t,r,e,0,null,!1,!1,"",uh);return e._reactRootContainer=o,e[Ft]=o.current,qi(e.nodeType===8?e.parentNode:e),Kn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ko(a);l.call(u)}}var a=od(e,0,!1,null,null,!1,!1,"",uh);return e._reactRootContainer=a,e[Ft]=a.current,qi(e.nodeType===8?e.parentNode:e),Kn(function(){Pl(t,a,n,r)}),a}function Al(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Ko(o);l.call(a)}}Pl(t,o,e,i)}else o=nS(n,t,e,i,r);return Ko(o)}Rm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yi(t.pendingLanes);n!==0&&(Nc(t,n|1),Ve(t,ce()),!(Q&6)&&(zr=ce()+500,In()))}break;case 13:Kn(function(){var r=jt(e,1);if(r!==null){var i=Le();yt(r,e,1,i)}}),ld(e,1)}};Rc=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var n=Le();yt(t,e,134217728,n)}ld(e,134217728)}};Pm=function(e){if(e.tag===13){var t=un(e),n=jt(e,t);if(n!==null){var r=Le();yt(n,e,t,r)}ld(e,t)}};Om=function(){return K};Dm=function(e,t){var n=K;try{return K=e,t()}finally{K=n}};lu=function(e,t,n){switch(t){case"input":if(eu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Cl(r);if(!i)throw Error(R(90));um(r),eu(r,i)}}}break;case"textarea":dm(e,n);break;case"select":t=n.value,t!=null&&Cr(e,!!n.multiple,t,!1)}};vm=nd;_m=Kn;var rS={usingClientEntryPoint:!1,Events:[Ts,mr,Cl,gm,ym,nd]},oi={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iS={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Em(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||tS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{_l=ro.inject(iS),Tt=ro}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ud(t))throw Error(R(200));return eS(e,t,null,n)};tt.createRoot=function(e,t){if(!ud(e))throw Error(R(299));var n=!1,r="",i=ey;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=od(e,1,!1,null,null,n,!1,r,i),e[Ft]=t.current,qi(e.nodeType===8?e.parentNode:e),new ad(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Em(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Kn(e)};tt.hydrate=function(e,t,n){if(!Dl(t))throw Error(R(200));return Al(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!ud(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ey;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Zg(t,null,e,1,n??null,i,!1,s,o),e[Ft]=t.current,qi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ol(t)};tt.render=function(e,t,n){if(!Dl(t))throw Error(R(200));return Al(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!Dl(e))throw Error(R(40));return e._reactRootContainer?(Kn(function(){Al(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};tt.unstable_batchedUpdates=nd;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dl(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Al(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function ty(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ty)}catch(e){console.error(e)}}ty(),tm.exports=tt;var sS=tm.exports,ny,ch=sS;ny=ch.createRoot,ch.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(this,arguments)}var tn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(tn||(tn={}));const dh="popstate";function oS(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return Uu("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Go(i)}return aS(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ry(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lS(){return Math.random().toString(36).substr(2,8)}function fh(e,t){return{usr:e.state,key:e.key,idx:t}}function Uu(e,t,n,r){return n===void 0&&(n=null),ns({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kr(t):t,{state:n,key:t&&t.key||r||lS()})}function Go(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Kr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function aS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=tn.Pop,a=null,u=f();u==null&&(u=0,o.replaceState(ns({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function c(){l=tn.Pop;let w=f(),g=w==null?null:w-u;u=w,a&&a({action:l,location:v.location,delta:g})}function d(w,g){l=tn.Push;let h=Uu(v.location,w,g);u=f()+1;let p=fh(h,u),_=v.createHref(h);try{o.pushState(p,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(_)}s&&a&&a({action:l,location:v.location,delta:1})}function m(w,g){l=tn.Replace;let h=Uu(v.location,w,g);u=f();let p=fh(h,u),_=v.createHref(h);o.replaceState(p,"",_),s&&a&&a({action:l,location:v.location,delta:0})}function y(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof w=="string"?w:Go(w);return h=h.replace(/ $/,"%20"),fe(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let v={get action(){return l},get location(){return e(i,o)},listen(w){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(dh,c),a=w,()=>{i.removeEventListener(dh,c),a=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:m,go(w){return o.go(w)}};return v}var hh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hh||(hh={}));function uS(e,t,n){return n===void 0&&(n="/"),cS(e,t,n,!1)}function cS(e,t,n,r){let i=typeof t=="string"?Kr(t):t,s=cd(i.pathname||"/",n);if(s==null)return null;let o=iy(e);dS(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=ES(s);l=wS(o[a],u,r)}return l}function iy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(fe(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=dn([r,a.relativePath]),f=n.concat(a);s.children&&s.children.length>0&&(fe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iy(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:vS(u,s.index),routesMeta:f})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of sy(s.path))i(s,o,a)}),t}function sy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sy(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function dS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_S(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fS=/^:[\w-]+$/,hS=3,pS=2,mS=1,gS=10,yS=-2,ph=e=>e==="*";function vS(e,t){let n=e.split("/"),r=n.length;return n.some(ph)&&(r+=yS),t&&(r+=pS),n.filter(i=>!ph(i)).reduce((i,s)=>i+(fS.test(s)?hS:s===""?mS:gS),r)}function _S(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function wS(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",c=mh({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},f),d=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=mh({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},f)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:dn([s,c.pathname]),pathnameBase:IS(dn([s,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(s=dn([s,c.pathnameBase]))}return o}function mh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=SS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,c)=>{let{paramName:d,isOptional:m}=f;if(d==="*"){let v=l[c]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[c];return m&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function SS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ry(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function ES(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ry(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function CS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Kr(e):e;return{pathname:n?n.startsWith("/")?n:kS(n,t):t,search:xS(r),hash:NS(i)}}function kS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ia(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function oy(e,t){let n=TS(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ly(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Kr(e):(i=ns({},e),fe(!i.pathname||!i.pathname.includes("?"),Ia("?","pathname","search",i)),fe(!i.pathname||!i.pathname.includes("#"),Ia("#","pathname","hash",i)),fe(!i.search||!i.search.includes("#"),Ia("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let c=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),c-=1;i.pathname=d.join("/")}l=c>=0?t[c]:"/"}let a=CS(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||f)&&(a.pathname+="/"),a}const dn=e=>e.join("/").replace(/\/\/+/g,"/"),IS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ay=["post","put","patch","delete"];new Set(ay);const PS=["get",...ay];new Set(PS);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rs.apply(this,arguments)}const dd=x.createContext(null),OS=x.createContext(null),rr=x.createContext(null),Ml=x.createContext(null),Vt=x.createContext({outlet:null,matches:[],isDataRoute:!1}),uy=x.createContext(null);function DS(e,t){let{relative:n}=t===void 0?{}:t;xs()||fe(!1);let{basename:r,navigator:i}=x.useContext(rr),{hash:s,pathname:o,search:l}=dy(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:dn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function xs(){return x.useContext(Ml)!=null}function bl(){return xs()||fe(!1),x.useContext(Ml).location}function cy(e){x.useContext(rr).static||x.useLayoutEffect(e)}function AS(){let{isDataRoute:e}=x.useContext(Vt);return e?GS():MS()}function MS(){xs()||fe(!1);let e=x.useContext(dd),{basename:t,future:n,navigator:r}=x.useContext(rr),{matches:i}=x.useContext(Vt),{pathname:s}=bl(),o=JSON.stringify(oy(i,n.v7_relativeSplatPath)),l=x.useRef(!1);return cy(()=>{l.current=!0}),x.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let c=ly(u,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:dn([t,c.pathname])),(f.replace?r.replace:r.push)(c,f.state,f)},[t,r,o,s,e])}const bS=x.createContext(null);function LS(e){let t=x.useContext(Vt).outlet;return t&&x.createElement(bS.Provider,{value:e},t)}function FS(){let{matches:e}=x.useContext(Vt),t=e[e.length-1];return t?t.params:{}}function dy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(rr),{matches:i}=x.useContext(Vt),{pathname:s}=bl(),o=JSON.stringify(oy(i,r.v7_relativeSplatPath));return x.useMemo(()=>ly(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function jS(e,t){return zS(e,t)}function zS(e,t,n,r){xs()||fe(!1);let{navigator:i}=x.useContext(rr),{matches:s}=x.useContext(Vt),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=bl(),f;if(t){var c;let w=typeof t=="string"?Kr(t):t;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||fe(!1),f=w}else f=u;let d=f.pathname||"/",m=d;if(a!=="/"){let w=a.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=uS(e,{pathname:m}),v=VS(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:dn([a,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:dn([a,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&v?x.createElement(Ml.Provider,{value:{location:rs({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:tn.Pop}},v):v}function US(){let e=KS(),t=RS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const BS=x.createElement(US,null);class $S extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Vt.Provider,{value:this.props.routeContext},x.createElement(uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WS(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(dd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Vt.Provider,{value:t},r)}function VS(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);f>=0||fe(!1),o=o.slice(0,Math.min(o.length,f+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let c=o[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=f),c.route.id){let{loaderData:d,errors:m}=n,y=c.route.loader&&d[c.route.id]===void 0&&(!m||m[c.route.id]===void 0);if(c.route.lazy||y){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,c,d)=>{let m,y=!1,v=null,w=null;n&&(m=l&&c.route.id?l[c.route.id]:void 0,v=c.route.errorElement||BS,a&&(u<0&&d===0?(y=!0,w=null):u===d&&(y=!0,w=c.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,d+1)),h=()=>{let p;return m?p=v:y?p=w:c.route.Component?p=x.createElement(c.route.Component,null):c.route.element?p=c.route.element:p=f,x.createElement(WS,{match:c,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:p})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?x.createElement($S,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var fy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fy||{}),Yo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yo||{});function HS(e){let t=x.useContext(dd);return t||fe(!1),t}function QS(e){let t=x.useContext(OS);return t||fe(!1),t}function qS(e){let t=x.useContext(Vt);return t||fe(!1),t}function hy(e){let t=qS(),n=t.matches[t.matches.length-1];return n.route.id||fe(!1),n.route.id}function KS(){var e;let t=x.useContext(uy),n=QS(Yo.UseRouteError),r=hy(Yo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function GS(){let{router:e}=HS(fy.UseNavigateStable),t=hy(Yo.UseNavigateStable),n=x.useRef(!1);return cy(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,rs({fromRouteId:t},s)))},[e,t])}const gh={};function YS(e,t){gh[t]||(gh[t]=!0,console.warn(t))}const yh=(e,t,n)=>YS(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function XS(e,t){e!=null&&e.v7_startTransition||yh("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&yh("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function JS(e){return LS(e.context)}function _i(e){fe(!1)}function ZS(e){let{basename:t="/",children:n=null,location:r,navigationType:i=tn.Pop,navigator:s,static:o=!1,future:l}=e;xs()&&fe(!1);let a=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:a,navigator:s,static:o,future:rs({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=Kr(r));let{pathname:f="/",search:c="",hash:d="",state:m=null,key:y="default"}=r,v=x.useMemo(()=>{let w=cd(f,a);return w==null?null:{location:{pathname:w,search:c,hash:d,state:m,key:y},navigationType:i}},[a,f,c,d,m,y,i]);return v==null?null:x.createElement(rr.Provider,{value:u},x.createElement(Ml.Provider,{children:n,value:v}))}function eE(e){let{children:t,location:n}=e;return jS(Bu(t),n)}new Promise(()=>{});function Bu(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let s=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Bu(r.props.children,s));return}r.type!==_i&&fe(!1),!r.props.index||!r.props.children||fe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bu(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$u.apply(this,arguments)}function tE(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rE(e,t){return e.button===0&&(!t||t==="_self")&&!nE(e)}const iE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sE="6";try{window.__reactRouterVersion=sE}catch{}const oE="startTransition",vh=qa[oE];function lE(e){let{basename:t,children:n,future:r,window:i}=e,s=x.useRef();s.current==null&&(s.current=oS({window:i,v5Compat:!0}));let o=s.current,[l,a]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=x.useCallback(c=>{u&&vh?vh(()=>a(c)):a(c)},[a,u]);return x.useLayoutEffect(()=>o.listen(f),[o,f]),x.useEffect(()=>XS(r),[r]),x.createElement(ZS,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,py=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:f,viewTransition:c}=t,d=tE(t,iE),{basename:m}=x.useContext(rr),y,v=!1;if(typeof u=="string"&&uE.test(u)&&(y=u,aE))try{let p=new URL(window.location.href),_=u.startsWith("//")?new URL(p.protocol+u):new URL(u),C=cd(_.pathname,m);_.origin===p.origin&&C!=null?u=C+_.search+_.hash:v=!0}catch{}let w=DS(u,{relative:i}),g=cE(u,{replace:o,state:l,target:a,preventScrollReset:f,relative:i,viewTransition:c});function h(p){r&&r(p),p.defaultPrevented||g(p)}return x.createElement("a",$u({},d,{href:y||w,onClick:v||s?r:h,ref:n,target:a}))});var _h;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_h||(_h={}));var wh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wh||(wh={}));function cE(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,a=AS(),u=bl(),f=dy(e,{relative:o});return x.useCallback(c=>{if(rE(c,n)){c.preventDefault();let d=r!==void 0?r:Go(u)===Go(f);a(e,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,a,f,r,i,n,e,s,o,l])}const dE=()=>D.jsxs(D.Fragment,{children:[D.jsx("main",{children:D.jsx(JS,{})}),D.jsx("footer",{className:"px-4",children:D.jsx("div",{className:"bg-gray-200 p-4 rounded-t-md",children:D.jsx("a",{href:"mailto:alex.tiutiunyk@gmail.com",className:"text-sky-600 hover:underline",children:"alex.tiutiunyk@gmail.com"})})})]});function ke(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fE=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sh=fE,xa=()=>Math.random().toString(36).substring(7).split("").join("."),hE={INIT:`@@redux/INIT${xa()}`,REPLACE:`@@redux/REPLACE${xa()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xa()}`},Xo=hE;function vn(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function my(e,t,n){if(typeof e!="function")throw new Error(ke(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ke(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ke(1));return n(my)(e,t)}let r=e,i=t,s=new Map,o=s,l=0,a=!1;function u(){o===s&&(o=new Map,s.forEach((w,g)=>{o.set(g,w)}))}function f(){if(a)throw new Error(ke(3));return i}function c(w){if(typeof w!="function")throw new Error(ke(4));if(a)throw new Error(ke(5));let g=!0;u();const h=l++;return o.set(h,w),function(){if(g){if(a)throw new Error(ke(6));g=!1,u(),o.delete(h),s=null}}}function d(w){if(!vn(w))throw new Error(ke(7));if(typeof w.type>"u")throw new Error(ke(8));if(typeof w.type!="string")throw new Error(ke(17));if(a)throw new Error(ke(9));try{a=!0,i=r(i,w)}finally{a=!1}return(s=o).forEach(h=>{h()}),w}function m(w){if(typeof w!="function")throw new Error(ke(10));r=w,d({type:Xo.REPLACE})}function y(){const w=c;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(ke(11));function h(){const _=g;_.next&&_.next(f())}return h(),{unsubscribe:w(h)}},[Sh](){return this}}}return d({type:Xo.INIT}),{dispatch:d,subscribe:c,getState:f,replaceReducer:m,[Sh]:y}}function pE(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Xo.INIT})>"u")throw new Error(ke(12));if(typeof n(void 0,{type:Xo.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ke(13))})}function gy(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{pE(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let a=!1;const u={};for(let f=0;f<r.length;f++){const c=r[f],d=n[c],m=o[c],y=d(m,l);if(typeof y>"u")throw l&&l.type,new Error(ke(14));u[c]=y,a=a||y!==m}return a=a||r.length!==Object.keys(o).length,a?u:o}}function Jo(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function mE(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(ke(15))};const o={getState:i.getState,dispatch:(a,...u)=>s(a,...u)},l=e.map(a=>a(o));return s=Jo(...l)(i.dispatch),{...i,dispatch:s}}}function yy(e){return vn(e)&&"type"in e&&typeof e.type=="string"}var fd=Symbol.for("immer-nothing"),Pi=Symbol.for("immer-draftable"),Qe=Symbol.for("immer-state");function Ie(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Gn=Object.getPrototypeOf;function xt(e){return!!e&&!!e[Qe]}function St(e){var t;return e?vy(e)||Array.isArray(e)||!!e[Pi]||!!((t=e.constructor)!=null&&t[Pi])||Ns(e)||Rs(e):!1}var gE=Object.prototype.constructor.toString();function vy(e){if(!e||typeof e!="object")return!1;const t=Gn(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===gE}function yE(e){return xt(e)||Ie(15,e),e[Qe].base_}function is(e,t){Yn(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Yn(e){const t=e[Qe];return t?t.type_:Array.isArray(e)?1:Ns(e)?2:Rs(e)?3:0}function ss(e,t){return Yn(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Na(e,t){return Yn(e)===2?e.get(t):e[t]}function _y(e,t,n){const r=Yn(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function vE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ns(e){return e instanceof Map}function Rs(e){return e instanceof Set}function On(e){return e.copy_||e.base_}function Wu(e,t){if(Ns(e))return new Map(e);if(Rs(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=vy(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Qe];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Gn(e),r)}else{const r=Gn(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function hd(e,t=!1){return Ll(e)||xt(e)||!St(e)||(Yn(e)>1&&(e.set=e.add=e.clear=e.delete=_E),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>hd(r,!0))),e}function _E(){Ie(2)}function Ll(e){return Object.isFrozen(e)}var Vu={};function Xn(e){const t=Vu[e];return t||Ie(0,e),t}function wE(e,t){Vu[e]||(Vu[e]=t)}var os;function wy(){return os}function SE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Eh(e,t){t&&(Xn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hu(e){Qu(e),e.drafts_.forEach(EE),e.drafts_=null}function Qu(e){e===os&&(os=e.parent_)}function Ch(e){return os=SE(os,e)}function EE(e){const t=e[Qe];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function kh(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Qe].modified_&&(Hu(t),Ie(4)),St(e)&&(e=Zo(t,e),t.parent_||el(t,e)),t.patches_&&Xn("Patches").generateReplacementPatches_(n[Qe].base_,e,t.patches_,t.inversePatches_)):e=Zo(t,n,[]),Hu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fd?e:void 0}function Zo(e,t,n){if(Ll(t))return t;const r=t[Qe];if(!r)return is(t,(i,s)=>Th(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return el(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),is(s,(l,a)=>Th(e,r,i,l,a,n,o)),el(e,i,!1),n&&e.patches_&&Xn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Th(e,t,n,r,i,s,o){if(xt(i)){const l=s&&t&&t.type_!==3&&!ss(t.assigned_,r)?s.concat(r):void 0,a=Zo(e,i,l);if(_y(n,r,a),xt(a))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(St(i)&&!Ll(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Zo(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&el(e,i)}}function el(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hd(t,n)}function CE(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:wy(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=pd;n&&(i=[r],s=ls);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var pd={get(e,t){if(t===Qe)return e;const n=On(e);if(!ss(n,t))return kE(e,n,t);const r=n[t];return e.finalized_||!St(r)?r:r===Ra(e.base_,t)?(Pa(e),e.copy_[t]=Ku(r,e)):r},has(e,t){return t in On(e)},ownKeys(e){return Reflect.ownKeys(On(e))},set(e,t,n){const r=Sy(On(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ra(On(e),t),s=i==null?void 0:i[Qe];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(vE(n,i)&&(n!==void 0||ss(e.base_,t)))return!0;Pa(e),qu(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ra(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Pa(e),qu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=On(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ie(11)},getPrototypeOf(e){return Gn(e.base_)},setPrototypeOf(){Ie(12)}},ls={};is(pd,(e,t)=>{ls[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ls.deleteProperty=function(e,t){return ls.set.call(this,e,t,void 0)};ls.set=function(e,t,n){return pd.set.call(this,e[0],t,n,e[0])};function Ra(e,t){const n=e[Qe];return(n?On(n):e)[t]}function kE(e,t,n){var i;const r=Sy(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Sy(e,t){if(!(t in e))return;let n=Gn(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Gn(n)}}function qu(e){e.modified_||(e.modified_=!0,e.parent_&&qu(e.parent_))}function Pa(e){e.copy_||(e.copy_=Wu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var TE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(a=s,...u){return o.produce(a,f=>n.call(this,f,...u))}}typeof n!="function"&&Ie(6),r!==void 0&&typeof r!="function"&&Ie(7);let i;if(St(t)){const s=Ch(this),o=Ku(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?Hu(s):Qu(s)}return Eh(s,r),kh(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===fd&&(i=void 0),this.autoFreeze_&&hd(i,!0),r){const s=[],o=[];Xn("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Ie(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,a=>t(a,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){St(e)||Ie(8),xt(e)&&(e=IE(e));const t=Ch(this),n=Ku(e,void 0);return n[Qe].isManual_=!0,Qu(t),n}finishDraft(e,t){const n=e&&e[Qe];(!n||!n.isManual_)&&Ie(9);const{scope_:r}=n;return Eh(r,t),kh(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Xn("Patches").applyPatches_;return xt(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Ku(e,t){const n=Ns(e)?Xn("MapSet").proxyMap_(e,t):Rs(e)?Xn("MapSet").proxySet_(e,t):CE(e,t);return(t?t.scope_:wy()).drafts_.push(n),n}function IE(e){return xt(e)||Ie(10,e),Ey(e)}function Ey(e){if(!St(e)||Ll(e))return e;const t=e[Qe];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Wu(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Wu(e,!0);return is(n,(r,i)=>{_y(n,r,Ey(i))}),t&&(t.finalized_=!1),n}function xE(){const t="replace",n="add",r="remove";function i(d,m,y,v){switch(d.type_){case 0:case 2:return o(d,m,y,v);case 1:return s(d,m,y,v);case 3:return l(d,m,y,v)}}function s(d,m,y,v){let{base_:w,assigned_:g}=d,h=d.copy_;h.length<w.length&&([w,h]=[h,w],[y,v]=[v,y]);for(let p=0;p<w.length;p++)if(g[p]&&h[p]!==w[p]){const _=m.concat([p]);y.push({op:t,path:_,value:c(h[p])}),v.push({op:t,path:_,value:c(w[p])})}for(let p=w.length;p<h.length;p++){const _=m.concat([p]);y.push({op:n,path:_,value:c(h[p])})}for(let p=h.length-1;w.length<=p;--p){const _=m.concat([p]);v.push({op:r,path:_})}}function o(d,m,y,v){const{base_:w,copy_:g}=d;is(d.assigned_,(h,p)=>{const _=Na(w,h),C=Na(g,h),E=p?ss(w,h)?t:n:r;if(_===C&&E===t)return;const S=m.concat(h);y.push(E===r?{op:E,path:S}:{op:E,path:S,value:C}),v.push(E===n?{op:r,path:S}:E===r?{op:n,path:S,value:c(_)}:{op:t,path:S,value:c(_)})})}function l(d,m,y,v){let{base_:w,copy_:g}=d,h=0;w.forEach(p=>{if(!g.has(p)){const _=m.concat([h]);y.push({op:r,path:_,value:p}),v.unshift({op:n,path:_,value:p})}h++}),h=0,g.forEach(p=>{if(!w.has(p)){const _=m.concat([h]);y.push({op:n,path:_,value:p}),v.unshift({op:r,path:_,value:p})}h++})}function a(d,m,y,v){y.push({op:t,path:[],value:m===fd?void 0:m}),v.push({op:t,path:[],value:d})}function u(d,m){return m.forEach(y=>{const{path:v,op:w}=y;let g=d;for(let C=0;C<v.length-1;C++){const E=Yn(g);let S=v[C];typeof S!="string"&&typeof S!="number"&&(S=""+S),(E===0||E===1)&&(S==="__proto__"||S==="constructor")&&Ie(19),typeof g=="function"&&S==="prototype"&&Ie(19),g=Na(g,S),typeof g!="object"&&Ie(18,v.join("/"))}const h=Yn(g),p=f(y.value),_=v[v.length-1];switch(w){case t:switch(h){case 2:return g.set(_,p);case 3:Ie(16);default:return g[_]=p}case n:switch(h){case 1:return _==="-"?g.push(p):g.splice(_,0,p);case 2:return g.set(_,p);case 3:return g.add(p);default:return g[_]=p}case r:switch(h){case 1:return g.splice(_,1);case 2:return g.delete(_);case 3:return g.delete(y.value);default:return delete g[_]}default:Ie(17,w)}}),d}function f(d){if(!St(d))return d;if(Array.isArray(d))return d.map(f);if(Ns(d))return new Map(Array.from(d.entries()).map(([y,v])=>[y,f(v)]));if(Rs(d))return new Set(Array.from(d).map(f));const m=Object.create(Gn(d));for(const y in d)m[y]=f(d[y]);return ss(d,Pi)&&(m[Pi]=d[Pi]),m}function c(d){return xt(d)?f(d):d}wE("Patches",{applyPatches_:u,generatePatches_:i,generateReplacementPatches_:a})}var et=new TE,Ps=et.produce,Cy=et.produceWithPatches.bind(et);et.setAutoFreeze.bind(et);et.setUseStrictShallowCopy.bind(et);var Ih=et.applyPatches.bind(et);et.createDraft.bind(et);et.finishDraft.bind(et);function NE(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function RE(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function PE(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var xh=e=>Array.isArray(e)?e:[e];function OE(e){const t=Array.isArray(e[0])?e[0]:e;return PE(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function DE(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var AE=class{constructor(e){this.value=e}deref(){return this.value}},ME=typeof WeakRef<"u"?WeakRef:AE,bE=0,Nh=1;function io(){return{s:bE,v:void 0,o:null,p:null}}function tl(e,t={}){let n=io();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var c;let l=n;const{length:a}=arguments;for(let d=0,m=a;d<m;d++){const y=arguments[d];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const w=v.get(y);w===void 0?(l=io(),v.set(y,l)):l=w}else{let v=l.p;v===null&&(l.p=v=new Map);const w=v.get(y);w===void 0?(l=io(),v.set(y,l)):l=w}}const u=l;let f;if(l.s===Nh)f=l.v;else if(f=e.apply(null,arguments),s++,r){const d=((c=i==null?void 0:i.deref)==null?void 0:c.call(i))??i;d!=null&&r(d,f)&&(f=d,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new ME(f):f}return u.s=Nh,u.v=f,f}return o.clearCache=()=>{n=io(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function LE(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,l,a={},u=i.pop();typeof u=="object"&&(a=u,u=i.pop()),NE(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const f={...n,...a},{memoize:c,memoizeOptions:d=[],argsMemoize:m=tl,argsMemoizeOptions:y=[],devModeChecks:v={}}=f,w=xh(d),g=xh(y),h=OE(i),p=c(function(){return s++,u.apply(null,arguments)},...w),_=m(function(){o++;const E=DE(h,arguments);return l=p.apply(null,E),l},...g);return Object.assign(_,{resultFunc:u,memoizedResultFunc:p,dependencies:h,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:c,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var md=LE(tl),FE=Object.assign((e,t=md)=>{RE(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,l,a)=>(o[n[a]]=l,o),{}))},{withTypes:()=>FE});function ky(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var jE=ky(),zE=ky,UE=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jo:Jo.apply(null,arguments)},BE=e=>e&&typeof e.match=="function";function vt(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Je(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>yy(r)&&r.type===e,n}var Ty=class wi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wi.prototype)}static get[Symbol.species](){return wi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wi(...t[0].concat(this)):new wi(...t.concat(this))}};function Rh(e){return St(e)?Ps(e,()=>{}):e}function Ph(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(Je(10));const r=n.insert(t,e);return e.set(t,r),r}function $E(e){return typeof e=="boolean"}var WE=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new Ty;return n&&($E(n)?o.push(jE):o.push(zE(n.extraArgument))),o},jn="RTK_autoBatch",li=()=>e=>({payload:e,meta:{[jn]:!0}}),Iy=e=>t=>{setTimeout(t,e)},VE=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Iy(10),HE=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?VE:e.type==="callback"?e.queueNotification:Iy(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const c=()=>i&&f(),d=r.subscribe(c);return l.add(f),()=>{d(),l.delete(f)}},dispatch(f){var c;try{return i=!((c=f==null?void 0:f.meta)!=null&&c[jn]),s=!i,s&&(o||(o=!0,a(u))),r.dispatch(f)}finally{i=!0}}})},QE=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Ty(e);return r&&i.push(HE(typeof r=="object"?r:void 0)),i};function qE(e){const t=WE(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(vn(n))l=gy(n);else throw new Error(Je(1));let a;typeof r=="function"?a=r(t):a=t();let u=Jo;i&&(u=UE({trace:!1,...typeof i=="object"&&i}));const f=mE(...a),c=QE(f);let d=typeof o=="function"?o(c):c();const m=u(...d);return my(l,s,m)}function xy(e){const t={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Je(28));if(l in t)throw new Error(Je(29));return t[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function KE(e){return typeof e=="function"}function GE(e,t){let[n,r,i]=xy(t),s;if(KE(e))s=()=>Rh(e());else{const l=Rh(e);s=()=>l}function o(l=s(),a){let u=[n[a.type],...r.filter(({matcher:f})=>f(a)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[i]),u.reduce((f,c)=>{if(c)if(xt(f)){const m=c(f,a);return m===void 0?f:m}else{if(St(f))return Ps(f,d=>c(d,a));{const d=c(f,a);if(d===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return f},l)}return o.getInitialState=s,o}var Ny=(e,t)=>BE(e)?e.match(t):e(t);function Ut(...e){return t=>e.some(n=>Ny(n,t))}function Oi(...e){return t=>e.every(n=>Ny(n,t))}function Fl(e,t){if(!e||!e.meta)return!1;const n=typeof e.meta.requestId=="string",r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Os(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function gd(...e){return e.length===0?t=>Fl(t,["pending"]):Os(e)?Ut(...e.map(t=>t.pending)):gd()(e[0])}function Ur(...e){return e.length===0?t=>Fl(t,["rejected"]):Os(e)?Ut(...e.map(t=>t.rejected)):Ur()(e[0])}function jl(...e){const t=n=>n&&n.meta&&n.meta.rejectedWithValue;return e.length===0?Oi(Ur(...e),t):Os(e)?Oi(Ur(...e),t):jl()(e[0])}function _n(...e){return e.length===0?t=>Fl(t,["fulfilled"]):Os(e)?Ut(...e.map(t=>t.fulfilled)):_n()(e[0])}function Gu(...e){return e.length===0?t=>Fl(t,["pending","fulfilled","rejected"]):Os(e)?Ut(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):Gu()(e[0])}var YE="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yd=(e=21)=>{let t="",n=e;for(;n--;)t+=YE[Math.random()*64|0];return t},XE=["name","message","stack","code"],Oa=class{constructor(e,t){Zl(this,"_type");this.payload=e,this.meta=t}},Oh=class{constructor(e,t){Zl(this,"_type");this.payload=e,this.meta=t}},JE=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of XE)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},Dh=(()=>{function e(t,n,r){const i=vt(t+"/fulfilled",(a,u,f,c)=>({payload:a,meta:{...c||{},arg:f,requestId:u,requestStatus:"fulfilled"}})),s=vt(t+"/pending",(a,u,f)=>({payload:void 0,meta:{...f||{},arg:u,requestId:a,requestStatus:"pending"}})),o=vt(t+"/rejected",(a,u,f,c,d)=>({payload:c,error:(r&&r.serializeError||JE)(a||"Rejected"),meta:{...d||{},arg:f,requestId:u,rejectedWithValue:!!c,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(u,f,c)=>{const d=r!=null&&r.idGenerator?r.idGenerator(a):yd(),m=new AbortController;let y,v;function w(h){v=h,m.abort()}const g=async function(){var _,C;let h;try{let E=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,a,{getState:f,extra:c});if(eC(E)&&(E=await E),E===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const S=new Promise((k,I)=>{y=()=>{I({name:"AbortError",message:v||"Aborted"})},m.signal.addEventListener("abort",y)});u(s(d,a,(C=r==null?void 0:r.getPendingMeta)==null?void 0:C.call(r,{requestId:d,arg:a},{getState:f,extra:c}))),h=await Promise.race([S,Promise.resolve(n(a,{dispatch:u,getState:f,extra:c,requestId:d,signal:m.signal,abort:w,rejectWithValue:(k,I)=>new Oa(k,I),fulfillWithValue:(k,I)=>new Oh(k,I)})).then(k=>{if(k instanceof Oa)throw k;return k instanceof Oh?i(k.payload,d,a,k.meta):i(k,d,a)})])}catch(E){h=E instanceof Oa?o(null,d,a,E.payload,E.meta):o(E,d,a)}finally{y&&m.signal.removeEventListener("abort",y)}return r&&!r.dispatchConditionRejection&&o.match(h)&&h.meta.condition||u(h),h}();return Object.assign(g,{abort:w,requestId:d,arg:a,unwrap(){return g.then(ZE)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,settled:Ut(o,i),typePrefix:t})}return e.withTypes=()=>e,e})();function ZE(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function eC(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var tC=Symbol.for("rtk-slice-createasyncthunk");function nC(e,t){return`${e}/${t}`}function rC({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[tC];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Je(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(sC()):i.reducers)||{},a=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(p,_){const C=typeof p=="string"?p:p.type;if(!C)throw new Error(Je(12));if(C in u.sliceCaseReducersByType)throw new Error(Je(13));return u.sliceCaseReducersByType[C]=_,f},addMatcher(p,_){return u.sliceMatchers.push({matcher:p,reducer:_}),f},exposeAction(p,_){return u.actionCreators[p]=_,f},exposeCaseReducer(p,_){return u.sliceCaseReducersByName[p]=_,f}};a.forEach(p=>{const _=l[p],C={reducerName:p,type:nC(s,p),createNotation:typeof i.reducers=="function"};lC(_)?uC(C,_,f,t):oC(C,_,f)});function c(){const[p={},_=[],C=void 0]=typeof i.extraReducers=="function"?xy(i.extraReducers):[i.extraReducers],E={...p,...u.sliceCaseReducersByType};return GE(i.initialState,S=>{for(let k in E)S.addCase(k,E[k]);for(let k of u.sliceMatchers)S.addMatcher(k.matcher,k.reducer);for(let k of _)S.addMatcher(k.matcher,k.reducer);C&&S.addDefaultCase(C)})}const d=p=>p,m=new Map;let y;function v(p,_){return y||(y=c()),y(p,_)}function w(){return y||(y=c()),y.getInitialState()}function g(p,_=!1){function C(S){let k=S[p];return typeof k>"u"&&_&&(k=w()),k}function E(S=d){const k=Ph(m,_,{insert:()=>new WeakMap});return Ph(k,S,{insert:()=>{const I={};for(const[T,N]of Object.entries(i.selectors??{}))I[T]=iC(N,S,w,_);return I}})}return{reducerPath:p,getSelectors:E,get selectors(){return E(C)},selectSlice:C}}const h={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...g(o),injectInto(p,{reducerPath:_,...C}={}){const E=_??o;return p.inject({reducerPath:E,reducer:v},C),{...h,...g(E,!0)}}};return h}}function iC(e,t,n,r){function i(s,...o){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var Dn=rC();function sC(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function oC({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!aC(r))throw new Error(Je(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?vt(e,o):vt(e))}function lC(e){return e._reducerDefinitionType==="asyncThunk"}function aC(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uC({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Je(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:a,settled:u,options:f}=n,c=i(e,s,f);r.exposeAction(t,c),o&&r.addCase(c.fulfilled,o),l&&r.addCase(c.pending,l),a&&r.addCase(c.rejected,a),u&&r.addMatcher(c.settled,u),r.exposeCaseReducer(t,{fulfilled:o||so,pending:l||so,rejected:a||so,settled:u||so})}function so(){}function Je(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ry=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(Ry||{});function cC(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var Ah=vn;function Py(e,t){if(e===t||!(Ah(e)&&Ah(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),r=Object.keys(e);let i=n.length===r.length;const s=Array.isArray(t)?[]:{};for(const o of n)s[o]=Py(e[o],t[o]),i&&(i=e[o]===s[o]);return i?e:s}function Rr(e){let t=0;for(const n in e)t++;return t}var Mh=e=>[].concat(...e);function dC(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function bh(e){return e!=null}function fC(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var Lh=class{constructor(e,t=void 0){this.value=e,this.meta=t}},zl=vt("__rtkq/focused"),vd=vt("__rtkq/unfocused"),Ul=vt("__rtkq/online"),_d=vt("__rtkq/offline"),Da=!1;function hC(e,t){function n(){const r=()=>e(zl()),i=()=>e(vd()),s=()=>e(Ul()),o=()=>e(_d()),l=()=>{window.document.visibilityState==="visible"?r():i()};return Da||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),Da=!0),()=>{window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",l),window.removeEventListener("online",s),window.removeEventListener("offline",o),Da=!1}}return n()}function Oy(e){return e.type==="query"}function pC(e){return e.type==="mutation"}function wd(e,t,n,r,i,s){return mC(e)?e(t,n,r,i).map(Yu).map(s):Array.isArray(e)?e.map(Yu).map(s):[]}function mC(e){return typeof e=="function"}function Yu(e){return typeof e=="string"?{type:e}:e}function gC(e,t){return e.catch(t)}var as=Symbol("forceQueryFn"),Xu=e=>typeof e[as]=="function";function yC({serializeQueryArgs:e,queryThunk:t,mutationThunk:n,api:r,context:i}){const s=new Map,o=new Map,{unsubscribeQueryResult:l,removeMutationResult:a,updateSubscriptionOptions:u}=r.internalActions;return{buildInitiateQuery:y,buildInitiateMutation:v,getRunningQueryThunk:f,getRunningMutationThunk:c,getRunningQueriesThunk:d,getRunningMutationsThunk:m};function f(w,g){return h=>{var C;const p=i.endpointDefinitions[w],_=e({queryArgs:g,endpointDefinition:p,endpointName:w});return(C=s.get(h))==null?void 0:C[_]}}function c(w,g){return h=>{var p;return(p=o.get(h))==null?void 0:p[g]}}function d(){return w=>Object.values(s.get(w)||{}).filter(bh)}function m(){return w=>Object.values(o.get(w)||{}).filter(bh)}function y(w,g){const h=(p,{subscribe:_=!0,forceRefetch:C,subscriptionOptions:E,[as]:S,...k}={})=>(I,T)=>{var Y;const N=e({queryArgs:p,endpointDefinition:g,endpointName:w}),A=t({...k,type:"query",subscribe:_,forceRefetch:C,subscriptionOptions:E,endpointName:w,originalArgs:p,queryCacheKey:N,[as]:S}),M=r.endpoints[w].select(p),j=I(A),U=M(T()),{requestId:G,abort:he}=j,P=U.requestId!==G,F=(Y=s.get(I))==null?void 0:Y[N],b=()=>M(T()),H=Object.assign(S?j.then(b):P&&!F?Promise.resolve(U):Promise.all([F,j]).then(b),{arg:p,requestId:G,subscriptionOptions:E,queryCacheKey:N,abort:he,async unwrap(){const ve=await H;if(ve.isError)throw ve.error;return ve.data},refetch:()=>I(h(p,{subscribe:!1,forceRefetch:!0})),unsubscribe(){_&&I(l({queryCacheKey:N,requestId:G}))},updateSubscriptionOptions(ve){H.subscriptionOptions=ve,I(u({endpointName:w,requestId:G,queryCacheKey:N,options:ve}))}});if(!F&&!P&&!S){const ve=s.get(I)||{};ve[N]=H,s.set(I,ve),H.then(()=>{delete ve[N],Rr(ve)||s.delete(I)})}return H};return h}function v(w){return(g,{track:h=!0,fixedCacheKey:p}={})=>(_,C)=>{const E=n({type:"mutation",endpointName:w,originalArgs:g,track:h,fixedCacheKey:p}),S=_(E),{requestId:k,abort:I,unwrap:T}=S,N=gC(S.unwrap().then(U=>({data:U})),U=>({error:U})),A=()=>{_(a({requestId:k,fixedCacheKey:p}))},M=Object.assign(N,{arg:S.arg,requestId:k,abort:I,unwrap:T,reset:A}),j=o.get(_)||{};return o.set(_,j),j[k]=M,M.then(()=>{delete j[k],Rr(j)||o.delete(_)}),p&&(j[p]=M,M.then(()=>{j[p]===M&&(delete j[p],Rr(j)||o.delete(_))})),M}}}function Fh(e){return e}function vC({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:r,api:i,assertTagType:s}){const o=(h,p,_,C)=>(E,S)=>{const k=n[h],I=r({queryArgs:p,endpointDefinition:k,endpointName:h});if(E(i.internalActions.queryResultPatched({queryCacheKey:I,patches:_})),!C)return;const T=i.endpoints[h].select(p)(S()),N=wd(k.providesTags,T.data,void 0,p,{},s);E(i.internalActions.updateProvidedBy({queryCacheKey:I,providedTags:N}))},l=(h,p,_,C=!0)=>(E,S)=>{const I=i.endpoints[h].select(p)(S()),T={patches:[],inversePatches:[],undo:()=>E(i.util.patchQueryData(h,p,T.inversePatches,C))};if(I.status==="uninitialized")return T;let N;if("data"in I)if(St(I.data)){const[A,M,j]=Cy(I.data,_);T.patches.push(...M),T.inversePatches.push(...j),N=A}else N=_(I.data),T.patches.push({op:"replace",path:[],value:N}),T.inversePatches.push({op:"replace",path:[],value:I.data});return T.patches.length===0||E(i.util.patchQueryData(h,p,T.patches,C)),T},a=(h,p,_)=>C=>C(i.endpoints[h].initiate(p,{subscribe:!1,forceRefetch:!0,[as]:()=>({data:_})})),u=async(h,{signal:p,abort:_,rejectWithValue:C,fulfillWithValue:E,dispatch:S,getState:k,extra:I})=>{const T=n[h.endpointName];try{let N=Fh,A;const M={signal:p,abort:_,dispatch:S,getState:k,extra:I,endpoint:h.endpointName,type:h.type,forced:h.type==="query"?f(h,k()):void 0,queryCacheKey:h.type==="query"?h.queryCacheKey:void 0},j=h.type==="query"?h[as]:void 0;if(j?A=j():T.query?(A=await t(T.query(h.originalArgs),M,T.extraOptions),T.transformResponse&&(N=T.transformResponse)):A=await T.queryFn(h.originalArgs,M,T.extraOptions,U=>t(U,M,T.extraOptions)),typeof process<"u",A.error)throw new Lh(A.error,A.meta);return E(await N(A.data,A.meta,h.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:A.meta,[jn]:!0})}catch(N){let A=N;if(A instanceof Lh){let M=Fh;T.query&&T.transformErrorResponse&&(M=T.transformErrorResponse);try{return C(await M(A.value,A.meta,h.originalArgs),{baseQueryMeta:A.meta,[jn]:!0})}catch(j){A=j}}throw typeof process<"u",console.error(A),A}};function f(h,p){var k,I,T;const _=(I=(k=p[e])==null?void 0:k.queries)==null?void 0:I[h.queryCacheKey],C=(T=p[e])==null?void 0:T.config.refetchOnMountOrArgChange,E=_==null?void 0:_.fulfilledTimeStamp,S=h.forceRefetch??(h.subscribe&&C);return S?S===!0||(Number(new Date)-Number(E))/1e3>=S:!1}const c=Dh(`${e}/executeQuery`,u,{getPendingMeta(){return{startedTimeStamp:Date.now(),[jn]:!0}},condition(h,{getState:p}){var T,N,A;const _=p(),C=(N=(T=_[e])==null?void 0:T.queries)==null?void 0:N[h.queryCacheKey],E=C==null?void 0:C.fulfilledTimeStamp,S=h.originalArgs,k=C==null?void 0:C.originalArgs,I=n[h.endpointName];return Xu(h)?!0:(C==null?void 0:C.status)==="pending"?!1:f(h,_)||Oy(I)&&((A=I==null?void 0:I.forceRefetch)!=null&&A.call(I,{currentArg:S,previousArg:k,endpointState:C,state:_}))?!0:!E},dispatchConditionRejection:!0}),d=Dh(`${e}/executeMutation`,u,{getPendingMeta(){return{startedTimeStamp:Date.now(),[jn]:!0}}}),m=h=>"force"in h,y=h=>"ifOlderThan"in h,v=(h,p,_)=>(C,E)=>{const S=m(_)&&_.force,k=y(_)&&_.ifOlderThan,I=(N=!0)=>{const A={forceRefetch:N,isPrefetch:!0};return i.endpoints[h].initiate(p,A)},T=i.endpoints[h].select(p)(E());if(S)C(I());else if(k){const N=T==null?void 0:T.fulfilledTimeStamp;if(!N){C(I());return}(Number(new Date)-Number(new Date(N)))/1e3>=k&&C(I())}else C(I(!1))};function w(h){return p=>{var _,C;return((C=(_=p==null?void 0:p.meta)==null?void 0:_.arg)==null?void 0:C.endpointName)===h}}function g(h,p){return{matchPending:Oi(gd(h),w(p)),matchFulfilled:Oi(_n(h),w(p)),matchRejected:Oi(Ur(h),w(p))}}return{queryThunk:c,mutationThunk:d,prefetch:v,updateQueryData:l,upsertQueryData:a,patchQueryData:o,buildMatchThunkActions:g}}function Dy(e,t,n,r){return wd(n[e.meta.arg.endpointName][t],_n(e)?e.payload:void 0,jl(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function oo(e,t,n){const r=e[t];r&&n(r)}function us(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function jh(e,t,n){const r=e[us(t)];r&&n(r)}var ai={};function _C({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:r,context:{endpointDefinitions:i,apiUid:s,extractRehydrationInfo:o,hasRehydrationInfo:l},assertTagType:a,config:u}){const f=vt(`${e}/resetApiState`);function c(E,S,k,I){var T;E[T=S.queryCacheKey]??(E[T]={status:"uninitialized",endpointName:S.endpointName}),oo(E,S.queryCacheKey,N=>{N.status="pending",N.requestId=k&&N.requestId?N.requestId:I.requestId,S.originalArgs!==void 0&&(N.originalArgs=S.originalArgs),N.startedTimeStamp=I.startedTimeStamp})}function d(E,S,k){oo(E,S.arg.queryCacheKey,I=>{if(I.requestId!==S.requestId&&!Xu(S.arg))return;const{merge:T}=i[S.arg.endpointName];if(I.status="fulfilled",T)if(I.data!==void 0){const{fulfilledTimeStamp:N,arg:A,baseQueryMeta:M,requestId:j}=S;let U=Ps(I.data,G=>T(G,k,{arg:A.originalArgs,baseQueryMeta:M,fulfilledTimeStamp:N,requestId:j}));I.data=U}else I.data=k;else I.data=i[S.arg.endpointName].structuralSharing??!0?Py(xt(I.data)?yE(I.data):I.data,k):k;delete I.error,I.fulfilledTimeStamp=S.fulfilledTimeStamp})}const m=Dn({name:`${e}/queries`,initialState:ai,reducers:{removeQueryResult:{reducer(E,{payload:{queryCacheKey:S}}){delete E[S]},prepare:li()},cacheEntriesUpserted:{reducer(E,S){for(const k of S.payload){const{queryDescription:I,value:T}=k;c(E,I,!0,{arg:I,requestId:S.meta.requestId,startedTimeStamp:S.meta.timestamp}),d(E,{arg:I,requestId:S.meta.requestId,fulfilledTimeStamp:S.meta.timestamp,baseQueryMeta:{}},T)}},prepare:E=>({payload:E.map(I=>{const{endpointName:T,arg:N,value:A}=I,M=i[T];return{queryDescription:{type:"query",endpointName:T,originalArgs:I.arg,queryCacheKey:r({queryArgs:N,endpointDefinition:M,endpointName:T})},value:A}}),meta:{[jn]:!0,requestId:yd(),timestamp:Date.now()}})},queryResultPatched:{reducer(E,{payload:{queryCacheKey:S,patches:k}}){oo(E,S,I=>{I.data=Ih(I.data,k.concat())})},prepare:li()}},extraReducers(E){E.addCase(t.pending,(S,{meta:k,meta:{arg:I}})=>{const T=Xu(I);c(S,I,T,k)}).addCase(t.fulfilled,(S,{meta:k,payload:I})=>{d(S,k,I)}).addCase(t.rejected,(S,{meta:{condition:k,arg:I,requestId:T},error:N,payload:A})=>{oo(S,I.queryCacheKey,M=>{if(!k){if(M.requestId!==T)return;M.status="rejected",M.error=A??N}})}).addMatcher(l,(S,k)=>{const{queries:I}=o(k);for(const[T,N]of Object.entries(I))((N==null?void 0:N.status)==="fulfilled"||(N==null?void 0:N.status)==="rejected")&&(S[T]=N)})}}),y=Dn({name:`${e}/mutations`,initialState:ai,reducers:{removeMutationResult:{reducer(E,{payload:S}){const k=us(S);k in E&&delete E[k]},prepare:li()}},extraReducers(E){E.addCase(n.pending,(S,{meta:k,meta:{requestId:I,arg:T,startedTimeStamp:N}})=>{T.track&&(S[us(k)]={requestId:I,status:"pending",endpointName:T.endpointName,startedTimeStamp:N})}).addCase(n.fulfilled,(S,{payload:k,meta:I})=>{I.arg.track&&jh(S,I,T=>{T.requestId===I.requestId&&(T.status="fulfilled",T.data=k,T.fulfilledTimeStamp=I.fulfilledTimeStamp)})}).addCase(n.rejected,(S,{payload:k,error:I,meta:T})=>{T.arg.track&&jh(S,T,N=>{N.requestId===T.requestId&&(N.status="rejected",N.error=k??I)})}).addMatcher(l,(S,k)=>{const{mutations:I}=o(k);for(const[T,N]of Object.entries(I))((N==null?void 0:N.status)==="fulfilled"||(N==null?void 0:N.status)==="rejected")&&T!==(N==null?void 0:N.requestId)&&(S[T]=N)})}}),v=Dn({name:`${e}/invalidation`,initialState:ai,reducers:{updateProvidedBy:{reducer(E,S){var T,N;const{queryCacheKey:k,providedTags:I}=S.payload;for(const A of Object.values(E))for(const M of Object.values(A)){const j=M.indexOf(k);j!==-1&&M.splice(j,1)}for(const{type:A,id:M}of I){const j=(T=E[A]??(E[A]={}))[N=M||"__internal_without_id"]??(T[N]=[]);j.includes(k)||j.push(k)}},prepare:li()}},extraReducers(E){E.addCase(m.actions.removeQueryResult,(S,{payload:{queryCacheKey:k}})=>{for(const I of Object.values(S))for(const T of Object.values(I)){const N=T.indexOf(k);N!==-1&&T.splice(N,1)}}).addMatcher(l,(S,k)=>{var T,N;const{provided:I}=o(k);for(const[A,M]of Object.entries(I))for(const[j,U]of Object.entries(M)){const G=(T=S[A]??(S[A]={}))[N=j||"__internal_without_id"]??(T[N]=[]);for(const he of U)G.includes(he)||G.push(he)}}).addMatcher(Ut(_n(t),jl(t)),(S,k)=>{const I=Dy(k,"providesTags",i,a),{queryCacheKey:T}=k.meta.arg;v.caseReducers.updateProvidedBy(S,v.actions.updateProvidedBy({queryCacheKey:T,providedTags:I}))})}}),w=Dn({name:`${e}/subscriptions`,initialState:ai,reducers:{updateSubscriptionOptions(E,S){},unsubscribeQueryResult(E,S){},internal_getRTKQSubscriptions(){}}}),g=Dn({name:`${e}/internalSubscriptions`,initialState:ai,reducers:{subscriptionsUpdated:{reducer(E,S){return Ih(E,S.payload)},prepare:li()}}}),h=Dn({name:`${e}/config`,initialState:{online:fC(),focused:dC(),middlewareRegistered:!1,...u},reducers:{middlewareRegistered(E,{payload:S}){E.middlewareRegistered=E.middlewareRegistered==="conflict"||s!==S?"conflict":!0}},extraReducers:E=>{E.addCase(Ul,S=>{S.online=!0}).addCase(_d,S=>{S.online=!1}).addCase(zl,S=>{S.focused=!0}).addCase(vd,S=>{S.focused=!1}).addMatcher(l,S=>({...S}))}}),p=gy({queries:m.reducer,mutations:y.reducer,provided:v.reducer,subscriptions:g.reducer,config:h.reducer}),_=(E,S)=>p(f.match(S)?void 0:E,S),C={...h.actions,...m.actions,...w.actions,...g.actions,...y.actions,...v.actions,resetApiState:f};return{reducer:_,actions:C}}var zn=Symbol.for("RTKQ/skipToken"),Ay={status:"uninitialized"},zh=Ps(Ay,()=>{}),Uh=Ps(Ay,()=>{});function wC({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const r=c=>zh,i=c=>Uh;return{buildQuerySelector:l,buildMutationSelector:a,selectInvalidatedBy:u,selectCachedArgsForQuery:f};function s(c){return{...c,...cC(c.status)}}function o(c){return c[t]}function l(c,d){return m=>{const y=e({queryArgs:m,endpointDefinition:d,endpointName:c});return n(m===zn?r:g=>{var h,p;return((p=(h=o(g))==null?void 0:h.queries)==null?void 0:p[y])??zh},s)}}function a(){return c=>{let d;return typeof c=="object"?d=us(c)??zn:d=c,n(d===zn?i:v=>{var w,g;return((g=(w=o(v))==null?void 0:w.mutations)==null?void 0:g[d])??Uh},s)}}function u(c,d){const m=c[t],y=new Set;for(const v of d.map(Yu)){const w=m.provided[v.type];if(!w)continue;let g=(v.id!==void 0?w[v.id]:Mh(Object.values(w)))??[];for(const h of g)y.add(h)}return Mh(Array.from(y.values()).map(v=>{const w=m.queries[v];return w?[{queryCacheKey:v,endpointName:w.endpointName,originalArgs:w.originalArgs}]:[]}))}function f(c,d){return Object.values(c[t].queries).filter(m=>(m==null?void 0:m.endpointName)===d&&m.status!=="uninitialized").map(m=>m.originalArgs)}}var lr=WeakMap?new WeakMap:void 0,Bh=({endpointName:e,queryArgs:t})=>{let n="";const r=lr==null?void 0:lr.get(t);if(typeof r=="string")n=r;else{const i=JSON.stringify(t,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=vn(o)?Object.keys(o).sort().reduce((l,a)=>(l[a]=o[a],l),{}):o,o));vn(t)&&(lr==null||lr.set(t,i)),n=i}return`${e}(${n})`};function SC(...e){return function(n){const r=tl(u=>{var f;return(f=n.extractRehydrationInfo)==null?void 0:f.call(n,u,{reducerPath:n.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(u){let f=Bh;if("serializeQueryArgs"in u.endpointDefinition){const c=u.endpointDefinition.serializeQueryArgs;f=d=>{const m=c(d);return typeof m=="string"?m:Bh({...d,queryArgs:m})}}else n.serializeQueryArgs&&(f=n.serializeQueryArgs);return f(u)},tagTypes:[...n.tagTypes||[]]},s={endpointDefinitions:{},batch(u){u()},apiUid:yd(),extractRehydrationInfo:r,hasRehydrationInfo:tl(u=>r(u)!=null)},o={injectEndpoints:a,enhanceEndpoints({addTagTypes:u,endpoints:f}){if(u)for(const c of u)i.tagTypes.includes(c)||i.tagTypes.push(c);if(f)for(const[c,d]of Object.entries(f))typeof d=="function"?d(s.endpointDefinitions[c]):Object.assign(s.endpointDefinitions[c]||{},d);return o}},l=e.map(u=>u.init(o,i,s));function a(u){const f=u.endpoints({query:c=>({...c,type:"query"}),mutation:c=>({...c,type:"mutation"})});for(const[c,d]of Object.entries(f)){if(u.overrideExisting!==!0&&c in s.endpointDefinitions){if(u.overrideExisting==="throw")throw new Error(Je(39));typeof process<"u";continue}s.endpointDefinitions[c]=d;for(const m of l)m.injectEndpoint(c,d)}return o}return o.injectEndpoints({endpoints:n.endpoints})}}function EC(){return function(){throw new Error(Je(33))}}function Kt(e,...t){return Object.assign(e,...t)}var CC=({api:e,queryThunk:t,internalState:n})=>{const r=`${e.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:l}=e.internalActions,a=(m,y)=>{var w,g,h;if(o.match(y)){const{queryCacheKey:p,requestId:_,options:C}=y.payload;return(w=m==null?void 0:m[p])!=null&&w[_]&&(m[p][_]=C),!0}if(l.match(y)){const{queryCacheKey:p,requestId:_}=y.payload;return m[p]&&delete m[p][_],!0}if(e.internalActions.removeQueryResult.match(y))return delete m[y.payload.queryCacheKey],!0;if(t.pending.match(y)){const{meta:{arg:p,requestId:_}}=y,C=m[g=p.queryCacheKey]??(m[g]={});return C[`${_}_running`]={},p.subscribe&&(C[_]=p.subscriptionOptions??C[_]??{}),!0}let v=!1;if(t.fulfilled.match(y)||t.rejected.match(y)){const p=m[y.meta.arg.queryCacheKey]||{},_=`${y.meta.requestId}_running`;v||(v=!!p[_]),delete p[_]}if(t.rejected.match(y)){const{meta:{condition:p,arg:_,requestId:C}}=y;if(p&&_.subscribe){const E=m[h=_.queryCacheKey]??(m[h]={});E[C]=_.subscriptionOptions??E[C]??{},v=!0}}return v},u=()=>n.currentSubscriptions,d={getSubscriptions:u,getSubscriptionCount:m=>{const v=u()[m]??{};return Rr(v)},isRequestSubscribed:(m,y)=>{var w;const v=u();return!!((w=v==null?void 0:v[m])!=null&&w[y])}};return(m,y)=>{if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),e.util.resetApiState.match(m))return i=n.currentSubscriptions={},s=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(m))return[!1,d];const v=a(n.currentSubscriptions,m);let w=!0;if(v){s||(s=setTimeout(()=>{const p=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,_]=Cy(i,()=>p);y.next(e.internalActions.subscriptionsUpdated(_)),i=p,s=null},500));const g=typeof m.type=="string"&&!!m.type.startsWith(r),h=t.rejected.match(m)&&m.meta.condition&&!!m.meta.arg.subscribe;w=!g&&!h}return[w,!1]}};function kC(e){for(const t in e)return!1;return!0}var TC=2147483647/1e3-1,IC=({reducerPath:e,api:t,queryThunk:n,context:r,internalState:i})=>{const{removeQueryResult:s,unsubscribeQueryResult:o,cacheEntriesUpserted:l}=t.internalActions,a=Ut(o.match,n.fulfilled,n.rejected,l.match);function u(m){const y=i.currentSubscriptions[m];return!!y&&!kC(y)}const f={},c=(m,y,v)=>{var w;if(a(m)){const g=y.getState()[e];let h;if(l.match(m))h=m.payload.map(p=>p.queryDescription.queryCacheKey);else{const{queryCacheKey:p}=o.match(m)?m.payload:m.meta.arg;h=[p]}for(const p of h)d(p,(w=g.queries[p])==null?void 0:w.endpointName,y,g.config)}if(t.util.resetApiState.match(m))for(const[g,h]of Object.entries(f))h&&clearTimeout(h),delete f[g];if(r.hasRehydrationInfo(m)){const g=y.getState()[e],{queries:h}=r.extractRehydrationInfo(m);for(const[p,_]of Object.entries(h))d(p,_==null?void 0:_.endpointName,y,g.config)}};function d(m,y,v,w){const g=r.endpointDefinitions[y],h=(g==null?void 0:g.keepUnusedDataFor)??w.keepUnusedDataFor;if(h===1/0)return;const p=Math.max(0,Math.min(h,TC));if(!u(m)){const _=f[m];_&&clearTimeout(_),f[m]=setTimeout(()=>{u(m)||v.dispatch(s({queryCacheKey:m})),delete f[m]},p*1e3)}}return c},$h=new Error("Promise never resolved before cacheEntryRemoved."),xC=({api:e,reducerPath:t,context:n,queryThunk:r,mutationThunk:i,internalState:s})=>{const o=Gu(r),l=Gu(i),a=_n(r,i),u={};function f(v,w,g){const h=u[v];h!=null&&h.valueResolved&&(h.valueResolved({data:w,meta:g}),delete h.valueResolved)}function c(v){const w=u[v];w&&(delete u[v],w.cacheEntryRemoved())}const d=(v,w,g)=>{const h=m(v);function p(_,C,E,S){const k=g[t].queries[C],I=w.getState()[t].queries[C];!k&&I&&y(_,S,C,w,E)}if(r.pending.match(v))p(v.meta.arg.endpointName,h,v.meta.requestId,v.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(v))for(const{queryDescription:_,value:C}of v.payload){const{endpointName:E,originalArgs:S,queryCacheKey:k}=_;p(E,k,v.meta.requestId,S),f(k,C,{})}else if(i.pending.match(v))w.getState()[t].mutations[h]&&y(v.meta.arg.endpointName,v.meta.arg.originalArgs,h,w,v.meta.requestId);else if(a(v))f(h,v.payload,v.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(v)||e.internalActions.removeMutationResult.match(v))c(h);else if(e.util.resetApiState.match(v))for(const _ of Object.keys(u))c(_)};function m(v){return o(v)?v.meta.arg.queryCacheKey:l(v)?v.meta.arg.fixedCacheKey??v.meta.requestId:e.internalActions.removeQueryResult.match(v)?v.payload.queryCacheKey:e.internalActions.removeMutationResult.match(v)?us(v.payload):""}function y(v,w,g,h,p){const _=n.endpointDefinitions[v],C=_==null?void 0:_.onCacheEntryAdded;if(!C)return;const E={},S=new Promise(M=>{E.cacheEntryRemoved=M}),k=Promise.race([new Promise(M=>{E.valueResolved=M}),S.then(()=>{throw $h})]);k.catch(()=>{}),u[g]=E;const I=e.endpoints[v].select(_.type==="query"?w:g),T=h.dispatch((M,j,U)=>U),N={...h,getCacheEntry:()=>I(h.getState()),requestId:p,extra:T,updateCachedData:_.type==="query"?M=>h.dispatch(e.util.updateQueryData(v,w,M)):void 0,cacheDataLoaded:k,cacheEntryRemoved:S},A=C(w,N);Promise.resolve(A).catch(M=>{if(M!==$h)throw M})}return d},NC=({api:e,context:{apiUid:t},reducerPath:n})=>(r,i)=>{e.util.resetApiState.match(r)&&i.dispatch(e.internalActions.middlewareRegistered(t)),typeof process<"u"},RC=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:i,api:s,assertTagType:o,refetchQuery:l,internalState:a})=>{const{removeQueryResult:u}=s.internalActions,f=Ut(_n(r),jl(r)),c=Ut(_n(r,i),Ur(r,i));let d=[];const m=(w,g)=>{f(w)?v(Dy(w,"invalidatesTags",n,o),g):c(w)?v([],g):s.util.invalidateTags.match(w)&&v(wd(w.payload,void 0,void 0,void 0,void 0,o),g)};function y(w){var g,h;for(const p in w.queries)if(((g=w.queries[p])==null?void 0:g.status)==="pending")return!0;for(const p in w.mutations)if(((h=w.mutations[p])==null?void 0:h.status)==="pending")return!0;return!1}function v(w,g){const h=g.getState(),p=h[e];if(d.push(...w),p.config.invalidationBehavior==="delayed"&&y(p))return;const _=d;if(d=[],_.length===0)return;const C=s.util.selectInvalidatedBy(h,_);t.batch(()=>{const E=Array.from(C.values());for(const{queryCacheKey:S}of E){const k=p.queries[S],I=a.currentSubscriptions[S]??{};k&&(Rr(I)===0?g.dispatch(u({queryCacheKey:S})):k.status!=="uninitialized"&&g.dispatch(l(k)))}})}return m},PC=({reducerPath:e,queryThunk:t,api:n,refetchQuery:r,internalState:i})=>{const s={},o=(d,m)=>{(n.internalActions.updateSubscriptionOptions.match(d)||n.internalActions.unsubscribeQueryResult.match(d))&&a(d.payload,m),(t.pending.match(d)||t.rejected.match(d)&&d.meta.condition)&&a(d.meta.arg,m),(t.fulfilled.match(d)||t.rejected.match(d)&&!d.meta.condition)&&l(d.meta.arg,m),n.util.resetApiState.match(d)&&f()};function l({queryCacheKey:d},m){const y=m.getState()[e],v=y.queries[d],w=i.currentSubscriptions[d];if(!v||v.status==="uninitialized")return;const{lowestPollingInterval:g,skipPollingIfUnfocused:h}=c(w);if(!Number.isFinite(g))return;const p=s[d];p!=null&&p.timeout&&(clearTimeout(p.timeout),p.timeout=void 0);const _=Date.now()+g;s[d]={nextPollTimestamp:_,pollingInterval:g,timeout:setTimeout(()=>{(y.config.focused||!h)&&m.dispatch(r(v)),l({queryCacheKey:d},m)},g)}}function a({queryCacheKey:d},m){const v=m.getState()[e].queries[d],w=i.currentSubscriptions[d];if(!v||v.status==="uninitialized")return;const{lowestPollingInterval:g}=c(w);if(!Number.isFinite(g)){u(d);return}const h=s[d],p=Date.now()+g;(!h||p<h.nextPollTimestamp)&&l({queryCacheKey:d},m)}function u(d){const m=s[d];m!=null&&m.timeout&&clearTimeout(m.timeout),delete s[d]}function f(){for(const d of Object.keys(s))u(d)}function c(d={}){let m=!1,y=Number.POSITIVE_INFINITY;for(let v in d)d[v].pollingInterval&&(y=Math.min(d[v].pollingInterval,y),m=d[v].skipPollingIfUnfocused||m);return{lowestPollingInterval:y,skipPollingIfUnfocused:m}}return o},OC=({api:e,context:t,queryThunk:n,mutationThunk:r})=>{const i=gd(n,r),s=Ur(n,r),o=_n(n,r),l={};return(u,f)=>{var c,d;if(i(u)){const{requestId:m,arg:{endpointName:y,originalArgs:v}}=u.meta,w=t.endpointDefinitions[y],g=w==null?void 0:w.onQueryStarted;if(g){const h={},p=new Promise((S,k)=>{h.resolve=S,h.reject=k});p.catch(()=>{}),l[m]=h;const _=e.endpoints[y].select(w.type==="query"?v:m),C=f.dispatch((S,k,I)=>I),E={...f,getCacheEntry:()=>_(f.getState()),requestId:m,extra:C,updateCachedData:w.type==="query"?S=>f.dispatch(e.util.updateQueryData(y,v,S)):void 0,queryFulfilled:p};g(v,E)}}else if(o(u)){const{requestId:m,baseQueryMeta:y}=u.meta;(c=l[m])==null||c.resolve({data:u.payload,meta:y}),delete l[m]}else if(s(u)){const{requestId:m,rejectedWithValue:y,baseQueryMeta:v}=u.meta;(d=l[m])==null||d.reject({error:u.payload??u.error,isUnhandledError:!y,meta:v}),delete l[m]}}},DC=({reducerPath:e,context:t,api:n,refetchQuery:r,internalState:i})=>{const{removeQueryResult:s}=n.internalActions,o=(a,u)=>{zl.match(a)&&l(u,"refetchOnFocus"),Ul.match(a)&&l(u,"refetchOnReconnect")};function l(a,u){const f=a.getState()[e],c=f.queries,d=i.currentSubscriptions;t.batch(()=>{for(const m of Object.keys(d)){const y=c[m],v=d[m];if(!v||!y)continue;(Object.values(v).some(g=>g[u]===!0)||Object.values(v).every(g=>g[u]===void 0)&&f.config[u])&&(Rr(v)===0?a.dispatch(s({queryCacheKey:m})):y.status!=="uninitialized"&&a.dispatch(r(y)))}})}return o};function AC(e){const{reducerPath:t,queryThunk:n,api:r,context:i}=e,{apiUid:s}=i,o={invalidateTags:vt(`${t}/invalidateTags`)},l=c=>c.type.startsWith(`${t}/`),a=[NC,IC,RC,PC,xC,OC];return{middleware:c=>{let d=!1;const y={...e,internalState:{currentSubscriptions:{}},refetchQuery:f,isThisApiSliceAction:l},v=a.map(h=>h(y)),w=CC(y),g=DC(y);return h=>p=>{if(!yy(p))return h(p);d||(d=!0,c.dispatch(r.internalActions.middlewareRegistered(s)));const _={...c,next:h},C=c.getState(),[E,S]=w(p,_,C);let k;if(E?k=h(p):k=S,c.getState()[t]&&(g(p,_,C),l(p)||i.hasRehydrationInfo(p)))for(const I of v)I(p,_,C);return k}},actions:o};function f(c){return e.api.endpoints[c.endpointName].initiate(c.originalArgs,{subscribe:!1,forceRefetch:!0})}}var Wh=Symbol(),MC=({createSelector:e=md}={})=>({name:Wh,init(t,{baseQuery:n,tagTypes:r,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:o,refetchOnMountOrArgChange:l,refetchOnFocus:a,refetchOnReconnect:u,invalidationBehavior:f},c){xE();const d=P=>(typeof process<"u",P);Object.assign(t,{reducerPath:i,endpoints:{},internalActions:{onOnline:Ul,onOffline:_d,onFocus:zl,onFocusLost:vd},util:{}});const{queryThunk:m,mutationThunk:y,patchQueryData:v,updateQueryData:w,upsertQueryData:g,prefetch:h,buildMatchThunkActions:p}=vC({baseQuery:n,reducerPath:i,context:c,api:t,serializeQueryArgs:s,assertTagType:d}),{reducer:_,actions:C}=_C({context:c,queryThunk:m,mutationThunk:y,serializeQueryArgs:s,reducerPath:i,assertTagType:d,config:{refetchOnFocus:a,refetchOnReconnect:u,refetchOnMountOrArgChange:l,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:f}});Kt(t.util,{patchQueryData:v,updateQueryData:w,upsertQueryData:g,prefetch:h,resetApiState:C.resetApiState,upsertQueryEntries:C.cacheEntriesUpserted}),Kt(t.internalActions,C);const{middleware:E,actions:S}=AC({reducerPath:i,context:c,queryThunk:m,mutationThunk:y,api:t,assertTagType:d});Kt(t.util,S),Kt(t,{reducer:_,middleware:E});const{buildQuerySelector:k,buildMutationSelector:I,selectInvalidatedBy:T,selectCachedArgsForQuery:N}=wC({serializeQueryArgs:s,reducerPath:i,createSelector:e});Kt(t.util,{selectInvalidatedBy:T,selectCachedArgsForQuery:N});const{buildInitiateQuery:A,buildInitiateMutation:M,getRunningMutationThunk:j,getRunningMutationsThunk:U,getRunningQueriesThunk:G,getRunningQueryThunk:he}=yC({queryThunk:m,mutationThunk:y,api:t,serializeQueryArgs:s,context:c});return Kt(t.util,{getRunningMutationThunk:j,getRunningMutationsThunk:U,getRunningQueryThunk:he,getRunningQueriesThunk:G}),{name:Wh,injectEndpoint(P,F){var H;const b=t;(H=b.endpoints)[P]??(H[P]={}),Oy(F)?Kt(b.endpoints[P],{name:P,select:k(P,F),initiate:A(P,F)},p(m,P)):pC(F)&&Kt(b.endpoints[P],{name:P,select:I(),initiate:M(P)},p(y,P))}}}}),My={exports:{}},by={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=x;function bC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LC=typeof Object.is=="function"?Object.is:bC,FC=Ds.useSyncExternalStore,jC=Ds.useRef,zC=Ds.useEffect,UC=Ds.useMemo,BC=Ds.useDebugValue;by.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=jC(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=UC(function(){function a(m){if(!u){if(u=!0,f=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return c=y}return c=m}if(y=c,LC(f,m))return y;var v=r(m);return i!==void 0&&i(y,v)?y:(f=m,c=v)}var u=!1,f,c,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,i]);var l=FC(e,s[0],s[1]);return zC(function(){o.hasValue=!0,o.value=l},[l]),BC(l),l};My.exports=by;var $C=My.exports,Ye="default"in qa?Zp:qa,Vh=Symbol.for("react-redux-context"),Hh=typeof globalThis<"u"?globalThis:{};function WC(){if(!Ye.createContext)return{};const e=Hh[Vh]??(Hh[Vh]=new Map);let t=e.get(Ye.createContext);return t||(t=Ye.createContext(null),e.set(Ye.createContext,t)),t}var wn=WC(),VC=()=>{throw new Error("uSES not initialized!")};function Sd(e=wn){return function(){return Ye.useContext(e)}}var Ly=Sd(),Fy=VC,HC=e=>{Fy=e},QC=(e,t)=>e===t;function qC(e=wn){const t=e===wn?Ly:Sd(e),n=(r,i={})=>{const{equalityFn:s=QC,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:a,getServerState:u,stabilityCheck:f,identityFunctionCheck:c}=t();Ye.useRef(!0);const d=Ye.useCallback({[r.name](y){return r(y)}}[r.name],[r,f,o.stabilityCheck]),m=Fy(a.addNestedSub,l.getState,u||l.getState,d,s);return Ye.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var jy=qC();function zy(e){e()}function KC(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zy(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Qh={notify(){},get:()=>[]};function GC(e,t){let n,r=Qh,i=0,s=!1;function o(v){f();const w=r.subscribe(v);let g=!1;return()=>{g||(g=!0,w(),c())}}function l(){r.notify()}function a(){y.onStateChange&&y.onStateChange()}function u(){return s}function f(){i++,n||(n=e.subscribe(a),r=KC())}function c(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Qh)}function d(){s||(s=!0,f())}function m(){s&&(s=!1,c())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:u,trySubscribe:d,tryUnsubscribe:m,getListeners:()=>r};return y}var YC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XC=typeof navigator<"u"&&navigator.product==="ReactNative",JC=YC||XC?Ye.useLayoutEffect:Ye.useEffect;function qh(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Di(e,t){if(qh(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!qh(e[n[i]],t[n[i]]))return!1;return!0}function ZC({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Ye.useMemo(()=>{const u=GC(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),l=Ye.useMemo(()=>e.getState(),[e]);JC(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const a=t||wn;return Ye.createElement(a.Provider,{value:o},n)}var e1=ZC;function Uy(e=wn){const t=e===wn?Ly:Sd(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var By=Uy();function t1(e=wn){const t=e===wn?By:Uy(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var $y=t1(),n1=zy;HC($C.useSyncExternalStoreWithSelector);function r1(e){return e.type==="query"}function i1(e){return e.type==="mutation"}function lo(e,...t){return Object.assign(e,...t)}function Aa(e){return e.replace(e[0],e[0].toUpperCase())}var ar=WeakMap?new WeakMap:void 0,s1=({endpointName:e,queryArgs:t})=>{let n="";const r=ar==null?void 0:ar.get(t);if(typeof r=="string")n=r;else{const i=JSON.stringify(t,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=vn(o)?Object.keys(o).sort().reduce((l,a)=>(l[a]=o[a],l),{}):o,o));vn(t)&&(ar==null||ar.set(t,i)),n=i}return`${e}(${n})`},Ma=Symbol();function Kh(e,t,n,r){const i=x.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:n,endpointName:r}):e}),[e,t,n,r]),s=x.useRef(i);return x.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:e}function ba(e){const t=x.useRef(e);return x.useEffect(()=>{Di(t.current,e)||(t.current=e)},[e]),Di(t.current,e)?t.current:e}var o1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l1=o1(),a1=()=>typeof navigator<"u"&&navigator.product==="ReactNative",u1=a1(),c1=()=>l1||u1?x.useLayoutEffect:x.useEffect,d1=c1(),f1=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:Ry.pending}:e;function h1({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:r,useStore:i},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:l,context:a}){const u=s?y=>y():x.useEffect;return{buildQueryHooks:d,buildMutationHook:m,usePrefetch:c};function f(y,v,w){if(v!=null&&v.endpointName&&y.isUninitialized){const{endpointName:E}=v,S=a.endpointDefinitions[E];l({queryArgs:v.originalArgs,endpointDefinition:S,endpointName:E})===l({queryArgs:w,endpointDefinition:S,endpointName:E})&&(v=void 0)}let g=y.isSuccess?y.data:v==null?void 0:v.data;g===void 0&&(g=y.data);const h=g!==void 0,p=y.isLoading,_=(!v||v.isLoading||v.isUninitialized)&&!h&&p,C=y.isSuccess||p&&h;return{...y,data:g,currentData:y.data,isFetching:p,isLoading:_,isSuccess:C}}function c(y,v){const w=n(),g=ba(v);return x.useCallback((h,p)=>w(e.util.prefetch(y,h,{...g,...p})),[y,w,g])}function d(y){const v=(h,{refetchOnReconnect:p,refetchOnFocus:_,refetchOnMountOrArgChange:C,skip:E=!1,pollingInterval:S=0,skipPollingIfUnfocused:k=!1}={})=>{const{initiate:I}=e.endpoints[y],T=n(),N=x.useRef(void 0);if(!N.current){const b=T(e.internalActions.internal_getRTKQSubscriptions());N.current=b}const A=Kh(E?zn:h,s1,a.endpointDefinitions[y],y),M=ba({refetchOnReconnect:p,refetchOnFocus:_,pollingInterval:S,skipPollingIfUnfocused:k}),j=x.useRef(!1),U=x.useRef(void 0);let{queryCacheKey:G,requestId:he}=U.current||{},P=!1;G&&he&&(P=N.current.isRequestSubscribed(G,he));const F=!P&&j.current;return u(()=>{j.current=P}),u(()=>{F&&(U.current=void 0)},[F]),u(()=>{var Y;const b=U.current;if(typeof process<"u",A===zn){b==null||b.unsubscribe(),U.current=void 0;return}const H=(Y=U.current)==null?void 0:Y.subscriptionOptions;if(!b||b.arg!==A){b==null||b.unsubscribe();const ve=T(I(A,{subscriptionOptions:M,forceRefetch:C}));U.current=ve}else M!==H&&b.updateSubscriptionOptions(M)},[T,I,C,A,M,F]),x.useEffect(()=>()=>{var b;(b=U.current)==null||b.unsubscribe(),U.current=void 0},[]),x.useMemo(()=>({refetch:()=>{var b;if(!U.current)throw new Error(Je(38));return(b=U.current)==null?void 0:b.refetch()}}),[])},w=({refetchOnReconnect:h,refetchOnFocus:p,pollingInterval:_=0,skipPollingIfUnfocused:C=!1}={})=>{const{initiate:E}=e.endpoints[y],S=n(),[k,I]=x.useState(Ma),T=x.useRef(void 0),N=ba({refetchOnReconnect:h,refetchOnFocus:p,pollingInterval:_,skipPollingIfUnfocused:C});u(()=>{var U,G;const j=(U=T.current)==null?void 0:U.subscriptionOptions;N!==j&&((G=T.current)==null||G.updateSubscriptionOptions(N))},[N]);const A=x.useRef(N);u(()=>{A.current=N},[N]);const M=x.useCallback(function(j,U=!1){let G;return t(()=>{var he;(he=T.current)==null||he.unsubscribe(),T.current=G=S(E(j,{subscriptionOptions:A.current,forceRefetch:!U})),I(j)}),G},[S,E]);return x.useEffect(()=>()=>{var j;(j=T==null?void 0:T.current)==null||j.unsubscribe()},[]),x.useEffect(()=>{k!==Ma&&!T.current&&M(k,!0)},[k,M]),x.useMemo(()=>[M,k],[M,k])},g=(h,{skip:p=!1,selectFromResult:_}={})=>{const{select:C}=e.endpoints[y],E=Kh(p?zn:h,l,a.endpointDefinitions[y],y),S=x.useRef(void 0),k=x.useMemo(()=>o([C(E),(M,j)=>j,M=>E],f,{memoizeOptions:{resultEqualityCheck:Di}}),[C,E]),I=x.useMemo(()=>_?o([k],_,{devModeChecks:{identityFunctionCheck:"never"}}):k,[k,_]),T=r(M=>I(M,S.current),Di),N=i(),A=k(N.getState(),S.current);return d1(()=>{S.current=A},[A]),T};return{useQueryState:g,useQuerySubscription:v,useLazyQuerySubscription:w,useLazyQuery(h){const[p,_]=w(h),C=g(_,{...h,skip:_===Ma}),E=x.useMemo(()=>({lastArg:_}),[_]);return x.useMemo(()=>[p,C,E],[p,C,E])},useQuery(h,p){const _=v(h,p),C=g(h,{selectFromResult:h===zn||p!=null&&p.skip?void 0:f1,...p}),{data:E,status:S,isLoading:k,isSuccess:I,isError:T,error:N}=C;return x.useDebugValue({data:E,status:S,isLoading:k,isSuccess:I,isError:T,error:N}),x.useMemo(()=>({...C,..._}),[C,_])}}}function m(y){return({selectFromResult:v,fixedCacheKey:w}={})=>{const{select:g,initiate:h}=e.endpoints[y],p=n(),[_,C]=x.useState();x.useEffect(()=>()=>{_!=null&&_.arg.fixedCacheKey||_==null||_.reset()},[_]);const E=x.useCallback(function(H){const Y=p(h(H,{fixedCacheKey:w}));return C(Y),Y},[p,h,w]),{requestId:S}=_||{},k=x.useMemo(()=>g({fixedCacheKey:w,requestId:_==null?void 0:_.requestId}),[w,_,g]),I=x.useMemo(()=>v?o([k],v):k,[v,k]),T=r(I,Di),N=w==null?_==null?void 0:_.arg.originalArgs:void 0,A=x.useCallback(()=>{t(()=>{_&&C(void 0),w&&p(e.internalActions.removeMutationResult({requestId:S,fixedCacheKey:w}))})},[p,w,_,S]),{endpointName:M,data:j,status:U,isLoading:G,isSuccess:he,isError:P,error:F}=T;x.useDebugValue({endpointName:M,data:j,status:U,isLoading:G,isSuccess:he,isError:P,error:F});const b=x.useMemo(()=>({...T,originalArgs:N,reset:A}),[T,N,A]);return x.useMemo(()=>[E,b],[E,b])}}}var p1=Symbol(),m1=({batch:e=n1,hooks:t={useDispatch:$y,useSelector:jy,useStore:By},createSelector:n=md,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:p1,init(s,{serializeQueryArgs:o},l){const a=s,{buildQueryHooks:u,buildMutationHook:f,usePrefetch:c}=h1({api:s,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:o,context:l});return lo(a,{usePrefetch:c}),lo(l,{batch:e}),{injectEndpoint(d,m){if(r1(m)){const{useQuery:y,useLazyQuery:v,useLazyQuerySubscription:w,useQueryState:g,useQuerySubscription:h}=u(d);lo(a.endpoints[d],{useQuery:y,useLazyQuery:v,useLazyQuerySubscription:w,useQueryState:g,useQuerySubscription:h}),s[`use${Aa(d)}Query`]=y,s[`useLazy${Aa(d)}Query`]=v}else if(i1(m)){const y=f(d);lo(a.endpoints[d],{useMutation:y}),s[`use${Aa(d)}Mutation`]=y}}}}}),g1=SC(MC(),m1()),Gh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(e,t){if(!e)throw Gr(t)},Gr=function(e){return new Error("Firebase Database ("+Wy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},y1=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Ed={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,f=s>>2,c=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,m=u&63;a||(m=64,o||(d=64)),r.push(n[f],n[c],n[d],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):y1(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||c==null)throw new v1;const d=s<<2|l>>4;if(r.push(d),u!==64){const m=l<<4&240|u>>2;if(r.push(m),c!==64){const y=u<<6&192|c;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hy=function(e){const t=Vy(e);return Ed.encodeByteArray(t,!0)},nl=function(e){return Hy(e).replace(/\./g,"")},Ju=function(e){try{return Ed.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(e){return Qy(void 0,e)}function Qy(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!w1(n)||(e[n]=Qy(e[n],t[n]));return e}function w1(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=()=>S1().__FIREBASE_DEFAULTS__,C1=()=>{if(typeof process>"u"||typeof Gh>"u")return;const e=Gh.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},k1=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ju(e[1]);return t&&JSON.parse(t)},qy=()=>{try{return E1()||C1()||k1()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},T1=e=>{var t,n;return(n=(t=qy())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},I1=e=>{const t=T1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ky=()=>{var e;return(e=qy())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[nl(JSON.stringify(n)),nl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N1())}function R1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yy(){return Wy.NODE_ADMIN===!0}function P1(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="FirebaseError";class As extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=D1,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xy.prototype.create)}}class Xy{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?A1(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new As(i,l,r)}}function A1(e,t){return e.replace(M1,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const M1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e){return JSON.parse(e)}function me(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=cs(Ju(s[0])||""),n=cs(Ju(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},b1=function(e){const t=Jy(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},L1=function(e){const t=Jy(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Br(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Yh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rl(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Zu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Xh(s)&&Xh(o)){if(!Zu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xh(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)r[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=l^s&(o^l),f=1518500249):(u=s^o^l,f=1859775393):c<60?(u=s&o|l&(s|o),f=2400959708):(u=s^o^l,f=3395469782);const d=(i<<5|i>>>27)+u+a+f+r[c]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function Cd(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,O(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},$l=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(e){return e&&e._delegate?e._delegate:e}class ds{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Bl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($1(t))try{this.getOrInitializeService({instanceIdentifier:An})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=An){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=An){return this.instances.has(t)}getOptions(t=An){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=An){return this.component?this.component.multipleInstances?t:An:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B1(e){return e===An?void 0:e}function $1(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new U1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(J||(J={}));const V1={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},H1=J.INFO,Q1={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},q1=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Q1[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zy{constructor(t){this.name=t,this._logLevel=H1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in J))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?V1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...t),this._logHandler(this,J.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...t),this._logHandler(this,J.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,J.INFO,...t),this._logHandler(this,J.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,J.WARN,...t),this._logHandler(this,J.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...t),this._logHandler(this,J.ERROR,...t)}}const K1=(e,t)=>t.some(n=>e instanceof n);let Jh,Zh;function G1(){return Jh||(Jh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y1(){return Zh||(Zh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ev=new WeakMap,ec=new WeakMap,tv=new WeakMap,La=new WeakMap,kd=new WeakMap;function X1(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(fn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&ev.set(n,e)}).catch(()=>{}),kd.set(t,e),t}function J1(e){if(ec.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});ec.set(e,t)}let tc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ec.get(e);if(t==="objectStoreNames")return e.objectStoreNames||tv.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Z1(e){tc=e(tc)}function ek(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fa(this),t,...n);return tv.set(r,t.sort?t.sort():[t]),fn(r)}:Y1().includes(e)?function(...t){return e.apply(Fa(this),t),fn(ev.get(this))}:function(...t){return fn(e.apply(Fa(this),t))}}function tk(e){return typeof e=="function"?ek(e):(e instanceof IDBTransaction&&J1(e),K1(e,G1())?new Proxy(e,tc):e)}function fn(e){if(e instanceof IDBRequest)return X1(e);if(La.has(e))return La.get(e);const t=tk(e);return t!==e&&(La.set(e,t),kd.set(t,e)),t}const Fa=e=>kd.get(e);function nk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=fn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(fn(o.result),a.oldVersion,a.newVersion,fn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const rk=["get","getKey","getAll","getAllKeys","count"],ik=["put","add","delete","clear"],ja=new Map;function ep(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ja.get(t))return ja.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ik.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rk.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return ja.set(t,s),s}Z1(e=>({...e,get:(t,n,r)=>ep(t,n)||e.get(t,n,r),has:(t,n)=>!!ep(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ok(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ok(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nc="@firebase/app",tp="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=new Zy("@firebase/app"),lk="@firebase/app-compat",ak="@firebase/analytics-compat",uk="@firebase/analytics",ck="@firebase/app-check-compat",dk="@firebase/app-check",fk="@firebase/auth",hk="@firebase/auth-compat",pk="@firebase/database",mk="@firebase/data-connect",gk="@firebase/database-compat",yk="@firebase/functions",vk="@firebase/functions-compat",_k="@firebase/installations",wk="@firebase/installations-compat",Sk="@firebase/messaging",Ek="@firebase/messaging-compat",Ck="@firebase/performance",kk="@firebase/performance-compat",Tk="@firebase/remote-config",Ik="@firebase/remote-config-compat",xk="@firebase/storage",Nk="@firebase/storage-compat",Rk="@firebase/firestore",Pk="@firebase/vertexai",Ok="@firebase/firestore-compat",Dk="firebase",Ak="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc="[DEFAULT]",Mk={[nc]:"fire-core",[lk]:"fire-core-compat",[uk]:"fire-analytics",[ak]:"fire-analytics-compat",[dk]:"fire-app-check",[ck]:"fire-app-check-compat",[fk]:"fire-auth",[hk]:"fire-auth-compat",[pk]:"fire-rtdb",[mk]:"fire-data-connect",[gk]:"fire-rtdb-compat",[yk]:"fire-fn",[vk]:"fire-fn-compat",[_k]:"fire-iid",[wk]:"fire-iid-compat",[Sk]:"fire-fcm",[Ek]:"fire-fcm-compat",[Ck]:"fire-perf",[kk]:"fire-perf-compat",[Tk]:"fire-rc",[Ik]:"fire-rc-compat",[xk]:"fire-gcs",[Nk]:"fire-gcs-compat",[Rk]:"fire-fst",[Ok]:"fire-fst-compat",[Pk]:"fire-vertex","fire-js":"fire-js",[Dk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new Map,bk=new Map,ic=new Map;function np(e,t){try{e.container.addComponent(t)}catch(n){Bt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function sl(e){const t=e.name;if(ic.has(t))return Bt.debug(`There were multiple attempts to register component ${t}.`),!1;ic.set(t,e);for(const n of il.values())np(n,e);for(const n of bk.values())np(n,e);return!0}function Lk(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hn=new Xy("app","Firebase",Fk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=Ak;function nv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:rc,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw hn.create("bad-app-name",{appName:String(i)});if(n||(n=Ky()),!n)throw hn.create("no-options");const s=il.get(i);if(s){if(Zu(n,s.options)&&Zu(r,s.config))return s;throw hn.create("duplicate-app",{appName:i})}const o=new W1(i);for(const a of ic.values())o.addComponent(a);const l=new jk(n,r,o);return il.set(i,l),l}function Uk(e=rc){const t=il.get(e);if(!t&&e===rc&&Ky())return nv();if(!t)throw hn.create("no-app",{appName:e});return t}function Pr(e,t,n){var r;let i=(r=Mk[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bt.warn(l.join(" "));return}sl(new ds(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="firebase-heartbeat-database",$k=1,fs="firebase-heartbeat-store";let za=null;function rv(){return za||(za=nk(Bk,$k,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(fs)}catch(n){console.warn(n)}}}}).catch(e=>{throw hn.create("idb-open",{originalErrorMessage:e.message})})),za}async function Wk(e){try{const n=(await rv()).transaction(fs),r=await n.objectStore(fs).get(iv(e));return await n.done,r}catch(t){if(t instanceof As)Bt.warn(t.message);else{const n=hn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bt.warn(n.message)}}}async function rp(e,t){try{const r=(await rv()).transaction(fs,"readwrite");await r.objectStore(fs).put(t,iv(e)),await r.done}catch(n){if(n instanceof As)Bt.warn(n.message);else{const r=hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bt.warn(r.message)}}}function iv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=1024,Hk=30*24*60*60*1e3;class Qk{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ip();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Hk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ip(),{heartbeatsToSend:r,unsentEntries:i}=qk(this._heartbeatsCache.heartbeats),s=nl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Bt.warn(n),""}}}function ip(){return new Date().toISOString().substring(0,10)}function qk(e,t=Vk){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sp(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P1()?O1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Wk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function sp(e){return nl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(e){sl(new ds("platform-logger",t=>new sk(t),"PRIVATE")),sl(new ds("heartbeat",t=>new Qk(t),"PRIVATE")),Pr(nc,tp,e),Pr(nc,tp,"esm2017"),Pr("fire-js","")}Gk("");var op={};const lp="@firebase/database",ap="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sv="";function Yk(e){sv=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),me(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:cs(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Ht(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Xk(t)}}catch{}return new Jk},Un=ov("localStorage"),Zk=ov("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Zy("@firebase/database"),eT=function(){let e=1;return function(){return e++}}(),lv=function(e){const t=z1(e),n=new j1;n.update(t);const r=n.digest();return Ed.encodeByteArray(r)},Ms=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Ms.apply(null,r):typeof r=="object"?t+=me(r):t+=r,t+=" "}return t};let Ai=null,up=!0;const tT=function(e,t){O(!t,"Can't turn on custom loggers persistently."),Or.logLevel=J.VERBOSE,Ai=Or.log.bind(Or)},De=function(...e){if(up===!0&&(up=!1,Ai===null&&Zk.get("logging_enabled")===!0&&tT()),Ai){const t=Ms.apply(null,e);Ai(t)}},bs=function(e){return function(...t){De(e,...t)}},sc=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ms(...e);Or.error(t)},$t=function(...e){const t=`FIREBASE FATAL ERROR: ${Ms(...e)}`;throw Or.error(t),new Error(t)},He=function(...e){const t="FIREBASE WARNING: "+Ms(...e);Or.warn(t)},nT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&He("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},av=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},rT=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},$r="[MIN_NAME]",Jn="[MAX_NAME]",Yr=function(e,t){if(e===t)return 0;if(e===$r||t===Jn)return-1;if(t===$r||e===Jn)return 1;{const n=cp(e),r=cp(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},iT=function(e,t){return e===t?0:e<t?-1:1},ui=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+me(t))},Td=function(e){if(typeof e!="object"||e===null)return me(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=me(t[r]),n+=":",n+=Td(e[t[r]]);return n+="}",n},uv=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function qe(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const cv=function(e){O(!av(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(a=0;a<64;a+=8){let d=parseInt(f.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},sT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},oT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lT(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const aT=new RegExp("^-?(0*)\\d{1,10}$"),uT=-2147483648,cT=2147483647,cp=function(e){if(aT.test(e)){const t=Number(e);if(t>=uT&&t<=cT)return t}return null},Xr=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw He("Exception was thrown by user callback.",n),t},Math.floor(0))}},dT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mi=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){He(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(De("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',He(t)}}class Co{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Co.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="5",dv="v",fv="s",hv="r",pv="f",mv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gv="ls",yv="p",oc="ac",vv="websocket",_v="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Un.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Un.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function pT(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Sv(e,t,n){O(typeof t=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(t===vv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===_v)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);pT(e)&&(n.ns=e.namespace);const i=[];return qe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.counters_={}}incrementCounter(t,n=1){Ht(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return _1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua={},Ba={};function xd(e){const t=e.toString();return Ua[t]||(Ua[t]=new mT),Ua[t]}function gT(e,t){const n=e.toString();return Ba[n]||(Ba[n]=t()),Ba[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Xr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="start",vT="close",_T="pLPCommand",wT="pRTLPCB",Ev="id",Cv="pw",kv="ser",ST="cb",ET="seg",CT="ts",kT="d",TT="dframe",Tv=1870,Iv=30,IT=Tv-Iv,xT=25e3,NT=3e4;class Er{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bs(t),this.stats_=xd(n),this.urlFn=a=>(this.appCheckToken&&(a[oc]=this.appCheckToken),Sv(n,_v,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NT)),rT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Nd((...s)=>{const[o,l,a,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===dp)this.id=l,this.password=a;else if(o===vT)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[dp]="t",r[kv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ST]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dv]=Id,this.transportSessionId&&(r[fv]=this.transportSessionId),this.lastSessionId&&(r[gv]=this.lastSessionId),this.applicationId&&(r[yv]=this.applicationId),this.appCheckToken&&(r[oc]=this.appCheckToken),typeof location<"u"&&location.hostname&&mv.test(location.hostname)&&(r[hv]=pv);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Er.forceAllow_=!0}static forceDisallow(){Er.forceDisallow_=!0}static isAvailable(){return Er.forceAllow_?!0:!Er.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!sT()&&!oT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=me(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Hy(n),i=uv(r,IT);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[TT]="t",r[Ev]=t,r[Cv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=me(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Nd{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eT(),window[_T+this.uniqueCallbackIdentifier]=t,window[wT+this.uniqueCallbackIdentifier]=n,this.myIFrame=Nd.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){De("frame writing exception"),l.stack&&De(l.stack),De(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||De("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Ev]=this.myID,t[Cv]=this.myPW,t[kv]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Iv+r.length<=Tv;){const o=this.pendingSegs.shift();r=r+"&"+ET+i+"="+o.seg+"&"+CT+i+"="+o.ts+"&"+kT+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(xT)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{De("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=16384,PT=45e3;let ol=null;typeof MozWebSocket<"u"?ol=MozWebSocket:typeof WebSocket<"u"&&(ol=WebSocket);class ht{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bs(this.connId),this.stats_=xd(n),this.connURL=ht.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[dv]=Id,typeof location<"u"&&location.hostname&&mv.test(location.hostname)&&(o[hv]=pv),n&&(o[fv]=n),r&&(o[gv]=r),i&&(o[oc]=i),s&&(o[yv]=s),Sv(t,vv,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Un.set("previous_websocket_failure",!0);try{let r;Yy(),this.mySock=new ol(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ht.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&ol!==null&&!ht.forceDisallow_}static previouslyFailed(){return Un.isInMemoryStorage||Un.get("previous_websocket_failure")===!0}markConnectionHealthy(){Un.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=cs(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(O(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=me(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=uv(n,RT);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PT))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ht.responsesRequiredToBeHealthy=2;ht.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{static get ALL_TRANSPORTS(){return[Er,ht]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=ht&&ht.isAvailable();let r=n&&!ht.previouslyFailed();if(t.webSocketOnly&&(n||He("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ht];else{const i=this.transports_=[];for(const s of hs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);hs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}hs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=6e4,DT=5e3,AT=10*1024,MT=100*1024,$a="t",fp="d",bT="s",hp="r",LT="e",pp="o",mp="a",gp="n",yp="p",FT="h";class jT{constructor(t,n,r,i,s,o,l,a,u,f){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bs("c:"+this.id+":"),this.transportManager_=new hs(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Mi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>MT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if($a in t){const n=t[$a];n===mp?this.upgradeIfSecondaryHealthy_():n===hp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===pp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ui("t",t),r=ui("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ui("t",t),r=ui("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ui($a,t);if(fp in t){const r=t[fp];if(n===FT){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===gp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===bT?this.onConnectionShutdown_(r):n===hp?this.onReset_(r):n===LT?sc("Server Error: "+r):n===pp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sc("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Id!==r&&He("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Mi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(OT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Un.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t){this.allowedEvents_=t,this.listeners_={},O(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){O(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Nv{static getInstance(){return new ll}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return O(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=32,_p=768;class X{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function q(){return new X("")}function V(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Sn(e){return e.pieces_.length-e.pieceNum_}function Z(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new X(e.pieces_,t)}function Rv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function zT(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Pv(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Ov(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new X(t,0)}function ge(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof X)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new X(n,0)}function $(e){return e.pieceNum_>=e.pieces_.length}function be(e,t){const n=V(e),r=V(t);if(n===null)return t;if(n===r)return be(Z(e),Z(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Dv(e,t){if(Sn(e)!==Sn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function pt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Sn(e)>Sn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class UT{constructor(t,n){this.errorPrefix_=n,this.parts_=Pv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$l(this.parts_[r]);Av(this)}}function BT(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$l(t),Av(e)}function $T(e){const t=e.parts_.pop();e.byteLength_-=$l(t),e.parts_.length>0&&(e.byteLength_-=1)}function Av(e){if(e.byteLength_>_p)throw new Error(e.errorPrefix_+"has a key path longer than "+_p+" bytes ("+e.byteLength_+").");if(e.parts_.length>vp)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vp+") or object contains a cycle "+Mn(e))}function Mn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Nv{static getInstance(){return new Rd}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return O(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=1e3,WT=60*5*1e3,wp=30*1e3,VT=1.3,HT=3e4,QT="server_kill",Sp=3;class bt extends xv{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=bt.nextPersistentConnectionId_++,this.log_=bs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ci,this.maxReconnectDelay_=WT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Yy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&ll.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(me(s)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Bl,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;bt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Ht(t,"w")){const r=Br(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();He(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||L1(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=b1(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+me(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):sc("Unrecognized action received from server: "+me(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ci,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ci,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HT&&(this.reconnectDelay_=ci),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+bt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(c){O(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?De("getToken() completed but was canceled"):(De("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,l=new jT(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,m=>{He(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(QT)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&He(c),a())}}}interrupt(t){De("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){De("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Yh(this.interruptReasons_)&&(this.reconnectDelay_=ci,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Td(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new X(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){De("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Sp&&(this.reconnectDelay_=wp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){De("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Sp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+sv.replace(/\./g,"-")]=1,Gy()?t["framework.cordova"]=1:R1()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=ll.getInstance().currentlyOnline();return Yh(this.interruptReasons_)&&t}}bt.nextPersistentConnectionId_=0;bt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new B(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new B($r,t),i=new B($r,n);return this.compare(r,i)!==0}minPost(){return B.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao;class Mv extends Wl{static get __EMPTY_NODE(){return ao}static set __EMPTY_NODE(t){ao=t}compare(t,n){return Yr(t.name,n.name)}isDefinedOn(t){throw Gr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return B.MIN}maxPost(){return new B(Jn,ao)}makePost(t,n){return O(typeof t=="string","KeyIndex indexValue must always be a string."),new B(t,ao)}toString(){return".key"}}const Dr=new Mv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Se{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Se.RED,this.left=i??Be.EMPTY_NODE,this.right=s??Be.EMPTY_NODE}copy(t,n,r,i,s){return new Se(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Be.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Be.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Se.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Se.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Se.RED=!0;Se.BLACK=!1;class qT{copy(t,n,r,i,s){return this}insert(t,n,r){return new Se(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Be{constructor(t,n=Be.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Be(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Se.BLACK,null,null))}remove(t){return new Be(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Se.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new uo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new uo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new uo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new uo(this.root_,null,this.comparator_,!0,t)}}Be.EMPTY_NODE=new qT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(e,t){return Yr(e.name,t.name)}function Pd(e,t){return Yr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc;function GT(e){lc=e}const bv=function(e){return typeof e=="number"?"number:"+cv(e):"string:"+e},Lv=function(e){if(e.isLeafNode()){const t=e.val();O(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ht(t,".sv"),"Priority must be a string or number.")}else O(e===lc||e.isEmpty(),"priority of unexpected type.");O(e===lc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep;class _e{static set __childrenNodeConstructor(t){Ep=t}static get __childrenNodeConstructor(){return Ep}constructor(t,n=_e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Lv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new _e(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:_e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return $(t)?this:V(t)===".priority"?this.priorityNode_:_e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:_e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=V(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||Sn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,_e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Z(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+bv(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=cv(this.value_):t+=this.value_,this.lazyHash_=lv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===_e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof _e.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=_e.VALUE_TYPE_ORDER.indexOf(n),s=_e.VALUE_TYPE_ORDER.indexOf(r);return O(i>=0,"Unknown leaf type: "+n),O(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}_e.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fv,jv;function YT(e){Fv=e}function XT(e){jv=e}class JT extends Wl{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Yr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return B.MIN}maxPost(){return new B(Jn,new _e("[PRIORITY-POST]",jv))}makePost(t,n){const r=Fv(t);return new B(n,new _e("[PRIORITY-POST]",r))}toString(){return".priority"}}const ue=new JT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=Math.log(2);class eI{constructor(t){const n=s=>parseInt(Math.log(s)/ZT,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const al=function(e,t,n,r){e.sort(t);const i=function(a,u){const f=u-a;let c,d;if(f===0)return null;if(f===1)return c=e[a],d=n?n(c):c,new Se(d,c.node,Se.BLACK,null,null);{const m=parseInt(f/2,10)+a,y=i(a,m),v=i(m+1,u);return c=e[m],d=n?n(c):c,new Se(d,c.node,Se.BLACK,y,v)}},s=function(a){let u=null,f=null,c=e.length;const d=function(y,v){const w=c-y,g=c;c-=y;const h=i(w+1,g),p=e[w],_=n?n(p):p;m(new Se(_,p.node,v,null,h))},m=function(y){u?(u.left=y,u=y):(f=y,u=y)};for(let y=0;y<a.count;++y){const v=a.nextBitIsOne(),w=Math.pow(2,a.count-(y+1));v?d(w,Se.BLACK):(d(w,Se.BLACK),d(w,Se.RED))}return f},o=new eI(e.length),l=s(o);return new Be(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa;const ur={};class At{static get Default(){return O(ur&&ue,"ChildrenNode.ts has not been loaded"),Wa=Wa||new At({".priority":ur},{".priority":ue}),Wa}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Br(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Be?n:null}hasIndex(t){return Ht(this.indexSet_,t.toString())}addIndex(t,n){O(t!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(B.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=al(r,t.getCompare()):l=ur;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const f=Object.assign({},this.indexes_);return f[a]=l,new At(f,u)}addToIndexes(t,n){const r=rl(this.indexes_,(i,s)=>{const o=Br(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),i===ur)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(B.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),al(l,o.getCompare())}else return ur;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new B(t.name,l))),a.insert(t,t.node)}});return new At(r,this.indexSet_)}removeFromIndexes(t,n){const r=rl(this.indexes_,i=>{if(i===ur)return i;{const s=n.get(t.name);return s?i.remove(new B(t.name,s)):i}});return new At(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di;class z{static get EMPTY_NODE(){return di||(di=new z(new Be(Pd),null,At.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Lv(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||di}updatePriority(t){return this.children_.isEmpty()?this:new z(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?di:n}}getChild(t){const n=V(t);return n===null?this:this.getImmediateChild(n).getChild(Z(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(O(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new B(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?di:this.priorityNode_;return new z(i,o,s)}}updateChild(t,n){const r=V(t);if(r===null)return n;{O(V(t)!==".priority"||Sn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Z(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ue,(o,l)=>{n[o]=l.val(t),r++,s&&z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+bv(this.getPriority().val())+":"),this.forEachChild(ue,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":lv(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new B(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new B(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new B(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,B.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,B.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ls?-1:0}withIndex(t){if(t===Dr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Dr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ue),i=n.getIterator(ue);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Dr?null:this.indexMap_.get(t.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tI extends z{constructor(){super(new Be(Pd),z.EMPTY_NODE,At.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return z.EMPTY_NODE}isEmpty(){return!1}}const Ls=new tI;Object.defineProperties(B,{MIN:{value:new B($r,z.EMPTY_NODE)},MAX:{value:new B(Jn,Ls)}});Mv.__EMPTY_NODE=z.EMPTY_NODE;_e.__childrenNodeConstructor=z;GT(Ls);XT(Ls);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=!0;function Ee(e,t=null){if(e===null)return z.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),O(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new _e(n,Ee(t))}if(!(e instanceof Array)&&nI){const n=[];let r=!1;if(qe(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=Ee(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new B(o,a)))}}),n.length===0)return z.EMPTY_NODE;const s=al(n,KT,o=>o.name,Pd);if(r){const o=al(n,ue.getCompare());return new z(s,Ee(t),new At({".priority":o},{".priority":ue}))}else return new z(s,Ee(t),At.Default)}else{let n=z.EMPTY_NODE;return qe(e,(r,i)=>{if(Ht(e,r)&&r.substring(0,1)!=="."){const s=Ee(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ee(t))}}YT(Ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends Wl{constructor(t){super(),this.indexPath_=t,O(!$(t)&&V(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Yr(t.name,n.name):s}makePost(t,n){const r=Ee(t),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new B(n,i)}maxPost(){const t=z.EMPTY_NODE.updateChild(this.indexPath_,Ls);return new B(Jn,t)}toString(){return Pv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI extends Wl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Yr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return B.MIN}maxPost(){return B.MAX}makePost(t,n){const r=Ee(t);return new B(n,r)}toString(){return".value"}}const sI=new iI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(e){return{type:"value",snapshotNode:e}}function Wr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ps(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ms(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function oI(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){O(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(ps(n,l)):O(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Wr(n,r)):o.trackChildChange(ms(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ue,(i,s)=>{n.hasChild(i)||r.trackChildChange(ps(i,s))}),n.isLeafNode()||n.forEachChild(ue,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(ms(i,s,o))}else r.trackChildChange(Wr(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?z.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this.indexedFilter_=new Od(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gs.getStartPost_(t),this.endPost_=gs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new B(n,r))||(r=z.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(z.EMPTY_NODE);const s=this;return n.forEachChild(ue,(o,l)=>{s.matches(new B(o,l))||(i=i.updateImmediateChild(o,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new B(n,r))||(r=z.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(z.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(d,m)=>c(m,d)}else o=this.index_.getCompare();const l=t;O(l.numChildren()===this.limit_,"");const a=new B(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const m=d==null?1:o(d,a);if(f&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(ms(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ps(n,c));const v=l.updateImmediateChild(n,z.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Wr(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}}else return r.isEmpty()?t:f&&o(u,a)>=0?(s!=null&&(s.trackChildChange(ps(u.name,u.node)),s.trackChildChange(Wr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,z.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$r}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ue}copy(){const t=new Dd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function aI(e){return e.loadsAllData()?new Od(e.getIndex()):e.hasLimit()?new lI(e):new gs(e)}function Cp(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ue?n="$priority":e.index_===sI?n="$value":e.index_===Dr?n="$key":(O(e.index_ instanceof rI,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=me(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=me(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+me(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=me(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+me(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function kp(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ue&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends xv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(O(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=bs("p:rest:"),this.listens_={}}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=ul.getListenId_(t,r),l={};this.listens_[o]=l;const a=Cp(t._queryParams);this.restRequest_(s+".json",a,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),Br(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(t,n){const r=ul.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Cp(t._queryParams),r=t._path.toString(),i=new Bl;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+F1(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=cs(l.responseText)}catch{He("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&He("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return{value:null,children:new Map}}function Uv(e,t,n){if($(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=V(t);e.children.has(r)||e.children.set(r,cl());const i=e.children.get(r);t=Z(t),Uv(i,t,n)}}function ac(e,t,n){e.value!==null?n(t,e.value):cI(e,(r,i)=>{const s=new X(t.toString()+"/"+r);ac(i,s,n)})}function cI(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=10*1e3,fI=30*1e3,hI=5*60*1e3;class pI{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dI(t);const r=Tp+(fI-Tp)*Math.random();Mi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;qe(t,(i,s)=>{s>0&&Ht(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Mi(this.reportStats_.bind(this),Math.floor(Math.random()*2*hI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mt||(mt={}));function Bv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ad(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Md(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=mt.ACK_USER_WRITE,this.source=Bv()}operationForChild(t){if($(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new X(t));return new dl(q(),n,this.revert)}}else return O(V(this.path)===t,"operationForChild called for unrelated child."),new dl(Z(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,n){this.source=t,this.path=n,this.type=mt.LISTEN_COMPLETE}operationForChild(t){return $(this.path)?new ys(this.source,q()):new ys(this.source,Z(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=mt.OVERWRITE}operationForChild(t){return $(this.path)?new Zn(this.source,q(),this.snap.getImmediateChild(t)):new Zn(this.source,Z(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=mt.MERGE}operationForChild(t){if($(this.path)){const n=this.children.subtree(new X(t));return n.isEmpty()?null:n.value?new Zn(this.source,q(),n.value):new vs(this.source,q(),n)}else return O(V(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new vs(this.source,Z(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if($(t))return this.isFullyInitialized()&&!this.filtered_;const n=V(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function gI(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(oI(o.childName,o.snapshotNode))}),fi(e,i,"child_removed",t,r,n),fi(e,i,"child_added",t,r,n),fi(e,i,"child_moved",s,r,n),fi(e,i,"child_changed",t,r,n),fi(e,i,"value",t,r,n),i}function fi(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>vI(e,l,a)),o.forEach(l=>{const a=yI(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function yI(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function vI(e,t,n){if(t.childName==null||n.childName==null)throw Gr("Should only compare child_ events.");const r=new B(t.childName,t.snapshotNode),i=new B(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(e,t){return{eventCache:e,serverCache:t}}function bi(e,t,n,r){return Vl(new En(t,n,r),e.serverCache)}function $v(e,t,n,r){return Vl(e.eventCache,new En(t,n,r))}function fl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function er(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va;const _I=()=>(Va||(Va=new Be(iT)),Va);class ne{static fromObject(t){let n=new ne(null);return qe(t,(r,i)=>{n=n.set(new X(r),i)}),n}constructor(t,n=_I()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if($(t))return null;{const r=V(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Z(t),n);return s!=null?{path:ge(new X(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if($(t))return this;{const n=V(t),r=this.children.get(n);return r!==null?r.subtree(Z(t)):new ne(null)}}set(t,n){if($(t))return new ne(n,this.children);{const r=V(t),s=(this.children.get(r)||new ne(null)).set(Z(t),n),o=this.children.insert(r,s);return new ne(this.value,o)}}remove(t){if($(t))return this.children.isEmpty()?new ne(null):new ne(null,this.children);{const n=V(t),r=this.children.get(n);if(r){const i=r.remove(Z(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ne(null):new ne(this.value,s)}else return this}}get(t){if($(t))return this.value;{const n=V(t),r=this.children.get(n);return r?r.get(Z(t)):null}}setTree(t,n){if($(t))return n;{const r=V(t),s=(this.children.get(r)||new ne(null)).setTree(Z(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ne(this.value,o)}}fold(t){return this.fold_(q(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ge(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,q(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($(t))return null;{const s=V(t),o=this.children.get(s);return o?o.findOnPath_(Z(t),ge(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,q(),n)}foreachOnPath_(t,n,r){if($(t))return this;{this.value&&r(n,this.value);const i=V(t),s=this.children.get(i);return s?s.foreachOnPath_(Z(t),ge(n,i),r):new ne(null)}}foreach(t){this.foreach_(q(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ge(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.writeTree_=t}static empty(){return new _t(new ne(null))}}function Li(e,t,n){if($(t))return new _t(new ne(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=be(i,t);return s=s.updateChild(o,n),new _t(e.writeTree_.set(i,s))}else{const i=new ne(n),s=e.writeTree_.setTree(t,i);return new _t(s)}}}function Ip(e,t,n){let r=e;return qe(n,(i,s)=>{r=Li(r,ge(t,i),s)}),r}function xp(e,t){if($(t))return _t.empty();{const n=e.writeTree_.setTree(t,new ne(null));return new _t(n)}}function uc(e,t){return sr(e,t)!=null}function sr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(be(n.path,t)):null}function Np(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ue,(r,i)=>{t.push(new B(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new B(r,i.value))}),t}function pn(e,t){if($(t))return e;{const n=sr(e,t);return n!=null?new _t(new ne(n)):new _t(e.writeTree_.subtree(t))}}function cc(e){return e.writeTree_.isEmpty()}function Vr(e,t){return Wv(q(),e.writeTree_,t)}function Wv(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(O(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Wv(ge(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ge(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(e,t){return qv(t,e)}function wI(e,t,n,r,i){O(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Li(e.visibleWrites,t,n)),e.lastWriteId=r}function SI(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function EI(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);O(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&CI(l,r.path)?i=!1:pt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return kI(e),!0;if(r.snap)e.visibleWrites=xp(e.visibleWrites,r.path);else{const l=r.children;qe(l,a=>{e.visibleWrites=xp(e.visibleWrites,ge(r.path,a))})}return!0}else return!1}function CI(e,t){if(e.snap)return pt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&pt(ge(e.path,n),t))return!0;return!1}function kI(e){e.visibleWrites=Vv(e.allWrites,TI,q()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function TI(e){return e.visible}function Vv(e,t,n){let r=_t.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)pt(n,o)?(l=be(n,o),r=Li(r,l,s.snap)):pt(o,n)&&(l=be(o,n),r=Li(r,q(),s.snap.getChild(l)));else if(s.children){if(pt(n,o))l=be(n,o),r=Ip(r,l,s.children);else if(pt(o,n))if(l=be(o,n),$(l))r=Ip(r,q(),s.children);else{const a=Br(s.children,V(l));if(a){const u=a.getChild(Z(l));r=Li(r,q(),u)}}}else throw Gr("WriteRecord should have .snap or .children")}}return r}function Hv(e,t,n,r,i){if(!r&&!i){const s=sr(e.visibleWrites,t);if(s!=null)return s;{const o=pn(e.visibleWrites,t);if(cc(o))return n;if(n==null&&!uc(o,q()))return null;{const l=n||z.EMPTY_NODE;return Vr(o,l)}}}else{const s=pn(e.visibleWrites,t);if(!i&&cc(s))return n;if(!i&&n==null&&!uc(s,q()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(pt(u.path,t)||pt(t,u.path))},l=Vv(e.allWrites,o,t),a=n||z.EMPTY_NODE;return Vr(l,a)}}}function II(e,t,n){let r=z.EMPTY_NODE;const i=sr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ue,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=pn(e.visibleWrites,t);return n.forEachChild(ue,(o,l)=>{const a=Vr(pn(s,new X(o)),l);r=r.updateImmediateChild(o,a)}),Np(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=pn(e.visibleWrites,t);return Np(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function xI(e,t,n,r,i){O(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ge(t,n);if(uc(e.visibleWrites,s))return null;{const o=pn(e.visibleWrites,s);return cc(o)?i.getChild(n):Vr(o,i.getChild(n))}}function NI(e,t,n,r){const i=ge(t,n),s=sr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=pn(e.visibleWrites,i);return Vr(o,r.getNode().getImmediateChild(n))}else return null}function RI(e,t){return sr(e.visibleWrites,t)}function PI(e,t,n,r,i,s,o){let l;const a=pn(e.visibleWrites,t),u=sr(a,q());if(u!=null)l=u;else if(n!=null)l=Vr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],c=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let m=d.getNext();for(;m&&f.length<i;)c(m,r)!==0&&f.push(m),m=d.getNext();return f}else return[]}function OI(){return{visibleWrites:_t.empty(),allWrites:[],lastWriteId:-1}}function hl(e,t,n,r){return Hv(e.writeTree,e.treePath,t,n,r)}function bd(e,t){return II(e.writeTree,e.treePath,t)}function Rp(e,t,n,r){return xI(e.writeTree,e.treePath,t,n,r)}function pl(e,t){return RI(e.writeTree,ge(e.treePath,t))}function DI(e,t,n,r,i,s){return PI(e.writeTree,e.treePath,t,n,r,i,s)}function Ld(e,t,n){return NI(e.writeTree,e.treePath,t,n)}function Qv(e,t){return qv(ge(e.treePath,t),e.writeTree)}function qv(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ms(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ps(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Wr(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ms(r,t.snapshotNode,i.oldSnap));else throw Gr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Kv=new MI;class Fd{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new En(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ld(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:er(this.viewCache_),s=DI(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(e){return{filter:e}}function LI(e,t){O(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),O(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function FI(e,t,n,r,i){const s=new AI;let o,l;if(n.type===mt.OVERWRITE){const u=n;u.source.fromUser?o=dc(e,t,u.path,u.snap,r,i,s):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!$(u.path),o=ml(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===mt.MERGE){const u=n;u.source.fromUser?o=zI(e,t,u.path,u.children,r,i,s):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=fc(e,t,u.path,u.children,r,i,l,s))}else if(n.type===mt.ACK_USER_WRITE){const u=n;u.revert?o=$I(e,t,u.path,r,i,s):o=UI(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===mt.LISTEN_COMPLETE)o=BI(e,t,n.path,r,s);else throw Gr("Unknown operation type: "+n.type);const a=s.getChanges();return jI(t,o,a),{viewCache:o,changes:a}}function jI(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=fl(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(zv(fl(t)))}}function Gv(e,t,n,r,i,s){const o=t.eventCache;if(pl(r,n)!=null)return t;{let l,a;if($(n))if(O(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=er(t),f=u instanceof z?u:z.EMPTY_NODE,c=bd(r,f);l=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const u=hl(r,er(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=V(n);if(u===".priority"){O(Sn(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=t.serverCache.getNode();const c=Rp(r,n,f,a);c!=null?l=e.filter.updatePriority(f,c):l=o.getNode()}else{const f=Z(n);let c;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const d=Rp(r,n,o.getNode(),a);d!=null?c=o.getNode().getImmediateChild(u).updateChild(f,d):c=o.getNode().getImmediateChild(u)}else c=Ld(r,u,t.serverCache);c!=null?l=e.filter.updateChild(o.getNode(),u,c,f,i,s):l=o.getNode()}}return bi(t,l,o.isFullyInitialized()||$(n),e.filter.filtersNodes())}}function ml(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const f=o?e.filter:e.filter.getIndexedFilter();if($(n))u=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const m=a.getNode().updateChild(n,r);u=f.updateFullNode(a.getNode(),m,null)}else{const m=V(n);if(!a.isCompleteForPath(n)&&Sn(n)>1)return t;const y=Z(n),w=a.getNode().getImmediateChild(m).updateChild(y,r);m===".priority"?u=f.updatePriority(a.getNode(),w):u=f.updateChild(a.getNode(),m,w,y,Kv,null)}const c=$v(t,u,a.isFullyInitialized()||$(n),f.filtersNodes()),d=new Fd(i,c,s);return Gv(e,c,n,i,d,l)}function dc(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const f=new Fd(i,t,s);if($(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=bi(t,u,!0,e.filter.filtersNodes());else{const c=V(n);if(c===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=bi(t,u,l.isFullyInitialized(),l.isFiltered());else{const d=Z(n),m=l.getNode().getImmediateChild(c);let y;if($(d))y=r;else{const v=f.getCompleteChild(c);v!=null?Rv(d)===".priority"&&v.getChild(Ov(d)).isEmpty()?y=v:y=v.updateChild(d,r):y=z.EMPTY_NODE}if(m.equals(y))a=t;else{const v=e.filter.updateChild(l.getNode(),c,y,d,f,o);a=bi(t,v,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function Pp(e,t){return e.eventCache.isCompleteForChild(t)}function zI(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const f=ge(n,a);Pp(t,V(f))&&(l=dc(e,l,f,u,i,s,o))}),r.foreach((a,u)=>{const f=ge(n,a);Pp(t,V(f))||(l=dc(e,l,f,u,i,s,o))}),l}function Op(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function fc(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;$(n)?u=r:u=new ne(null).setTree(n,r);const f=t.serverCache.getNode();return u.children.inorderTraversal((c,d)=>{if(f.hasChild(c)){const m=t.serverCache.getNode().getImmediateChild(c),y=Op(e,m,d);a=ml(e,a,new X(c),y,i,s,o,l)}}),u.children.inorderTraversal((c,d)=>{const m=!t.serverCache.isCompleteForChild(c)&&d.value===null;if(!f.hasChild(c)&&!m){const y=t.serverCache.getNode().getImmediateChild(c),v=Op(e,y,d);a=ml(e,a,new X(c),v,i,s,o,l)}}),a}function UI(e,t,n,r,i,s,o){if(pl(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if($(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ml(e,t,n,a.getNode().getChild(n),i,s,l,o);if($(n)){let u=new ne(null);return a.getNode().forEachChild(Dr,(f,c)=>{u=u.set(new X(f),c)}),fc(e,t,n,u,i,s,l,o)}else return t}else{let u=new ne(null);return r.foreach((f,c)=>{const d=ge(n,f);a.isCompleteForPath(d)&&(u=u.set(f,a.getNode().getChild(d)))}),fc(e,t,n,u,i,s,l,o)}}function BI(e,t,n,r,i){const s=t.serverCache,o=$v(t,s.getNode(),s.isFullyInitialized()||$(n),s.isFiltered());return Gv(e,o,n,r,Kv,i)}function $I(e,t,n,r,i,s){let o;if(pl(r,n)!=null)return t;{const l=new Fd(r,t,i),a=t.eventCache.getNode();let u;if($(n)||V(n)===".priority"){let f;if(t.serverCache.isFullyInitialized())f=hl(r,er(t));else{const c=t.serverCache.getNode();O(c instanceof z,"serverChildren would be complete if leaf node"),f=bd(r,c)}f=f,u=e.filter.updateFullNode(a,f,s)}else{const f=V(n);let c=Ld(r,f,t.serverCache);c==null&&t.serverCache.isCompleteForChild(f)&&(c=a.getImmediateChild(f)),c!=null?u=e.filter.updateChild(a,f,c,Z(n),l,s):t.eventCache.getNode().hasChild(f)?u=e.filter.updateChild(a,f,z.EMPTY_NODE,Z(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=hl(r,er(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||pl(r,q())!=null,bi(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Od(r.getIndex()),s=aI(r);this.processor_=bI(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(z.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(z.EMPTY_NODE,l.getNode(),null),f=new En(a,o.isFullyInitialized(),i.filtersNodes()),c=new En(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Vl(c,f),this.eventGenerator_=new mI(this.query_)}get query(){return this.query_}}function VI(e){return e.viewCache_.serverCache.getNode()}function HI(e){return fl(e.viewCache_)}function QI(e,t){const n=er(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!$(t)&&!n.getImmediateChild(V(t)).isEmpty())?n.getChild(t):null}function Dp(e){return e.eventRegistrations_.length===0}function qI(e,t){e.eventRegistrations_.push(t)}function Ap(e,t,n){const r=[];if(n){O(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Mp(e,t,n,r){t.type===mt.MERGE&&t.source.queryId!==null&&(O(er(e.viewCache_),"We should always have a full cache before handling merges"),O(fl(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=FI(e.processor_,i,t,n,r);return LI(e.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Yv(e,s.changes,s.viewCache.eventCache.getNode(),null)}function KI(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ue,(s,o)=>{r.push(Wr(s,o))}),n.isFullyInitialized()&&r.push(zv(n.getNode())),Yv(e,r,n.getNode(),t)}function Yv(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return gI(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl;class Xv{constructor(){this.views=new Map}}function GI(e){O(!gl,"__referenceConstructor has already been defined"),gl=e}function YI(){return O(gl,"Reference.ts has not been loaded"),gl}function XI(e){return e.views.size===0}function jd(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return O(s!=null,"SyncTree gave us an op for an invalid query."),Mp(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Mp(o,t,n,r));return s}}function Jv(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=hl(n,i?r:null),a=!1;l?a=!0:r instanceof z?(l=bd(n,r),a=!1):(l=z.EMPTY_NODE,a=!1);const u=Vl(new En(l,a,!1),new En(r,i,!1));return new WI(t,u)}return o}function JI(e,t,n,r,i,s){const o=Jv(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),qI(o,n),KI(o,n)}function ZI(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Cn(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(Ap(u,n,r)),Dp(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(Ap(a,n,r)),Dp(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Cn(e)&&s.push(new(YI())(t._repo,t._path)),{removed:s,events:o}}function Zv(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function mn(e,t){let n=null;for(const r of e.views.values())n=n||QI(r,t);return n}function e_(e,t){if(t._queryParams.loadsAllData())return Ql(e);{const r=t._queryIdentifier;return e.views.get(r)}}function t_(e,t){return e_(e,t)!=null}function Cn(e){return Ql(e)!=null}function Ql(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl;function ex(e){O(!yl,"__referenceConstructor has already been defined"),yl=e}function tx(){return O(yl,"Reference.ts has not been loaded"),yl}let nx=1;class bp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ne(null),this.pendingWriteTree_=OI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function n_(e,t,n,r,i){return wI(e.pendingWriteTree_,t,n,r,i),i?js(e,new Zn(Bv(),t,n)):[]}function Bn(e,t,n=!1){const r=SI(e.pendingWriteTree_,t);if(EI(e.pendingWriteTree_,t)){let s=new ne(null);return r.snap!=null?s=s.set(q(),!0):qe(r.children,o=>{s=s.set(new X(o),!0)}),js(e,new dl(r.path,s,n))}else return[]}function Fs(e,t,n){return js(e,new Zn(Ad(),t,n))}function rx(e,t,n){const r=ne.fromObject(n);return js(e,new vs(Ad(),t,r))}function ix(e,t){return js(e,new ys(Ad(),t))}function sx(e,t,n){const r=Ud(e,n);if(r){const i=Bd(r),s=i.path,o=i.queryId,l=be(s,t),a=new ys(Md(o),l);return $d(e,s,a)}else return[]}function r_(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||t_(o,t))){const a=ZI(o,t,n,r);XI(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const f=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(s,(d,m)=>Cn(m));if(f&&!c){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const m=ux(d);for(let y=0;y<m.length;++y){const v=m[y],w=v.query,g=l_(e,v);e.listenProvider_.startListening(Fi(w),_s(e,w),g.hashFn,g.onComplete)}}}!c&&u.length>0&&!r&&(f?e.listenProvider_.stopListening(Fi(t),null):u.forEach(d=>{const m=e.queryToTagMap.get(ql(d));e.listenProvider_.stopListening(Fi(d),m)}))}cx(e,u)}return l}function i_(e,t,n,r){const i=Ud(e,r);if(i!=null){const s=Bd(i),o=s.path,l=s.queryId,a=be(o,t),u=new Zn(Md(l),a,n);return $d(e,o,u)}else return[]}function ox(e,t,n,r){const i=Ud(e,r);if(i){const s=Bd(i),o=s.path,l=s.queryId,a=be(o,t),u=ne.fromObject(n),f=new vs(Md(l),a,u);return $d(e,o,f)}else return[]}function lx(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(d,m)=>{const y=be(d,i);s=s||mn(m,y),o=o||Cn(m)});let l=e.syncPointTree_.get(i);l?(o=o||Cn(l),s=s||mn(l,q())):(l=new Xv,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=z.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((m,y)=>{const v=mn(y,q());v&&(s=s.updateImmediateChild(m,v))}));const u=t_(l,t);if(!u&&!t._queryParams.loadsAllData()){const d=ql(t);O(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const m=dx();e.queryToTagMap.set(d,m),e.tagToQueryMap.set(m,d)}const f=Hl(e.pendingWriteTree_,i);let c=JI(l,t,n,f,s,a);if(!u&&!o&&!r){const d=e_(l,t);c=c.concat(fx(e,t,d))}return c}function zd(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=be(o,t),u=mn(l,a);if(u)return u});return Hv(i,t,s,n,!0)}function ax(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,f)=>{const c=be(u,n);r=r||mn(f,c)});let i=e.syncPointTree_.get(n);i?r=r||mn(i,q()):(i=new Xv,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new En(r,!0,!1):null,l=Hl(e.pendingWriteTree_,t._path),a=Jv(i,t,l,s?o.getNode():z.EMPTY_NODE,s);return HI(a)}function js(e,t){return s_(t,e.syncPointTree_,null,Hl(e.pendingWriteTree_,q()))}function s_(e,t,n,r){if($(e.path))return o_(e,t,n,r);{const i=t.get(q());n==null&&i!=null&&(n=mn(i,q()));let s=[];const o=V(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,f=Qv(r,o);s=s.concat(s_(l,a,u,f))}return i&&(s=s.concat(jd(i,e,r,n))),s}}function o_(e,t,n,r){const i=t.get(q());n==null&&i!=null&&(n=mn(i,q()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Qv(r,o),f=e.operationForChild(o);f&&(s=s.concat(o_(f,l,a,u)))}),i&&(s=s.concat(jd(i,e,r,n))),s}function l_(e,t){const n=t.query,r=_s(e,n);return{hashFn:()=>(VI(t)||z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?sx(e,n._path,r):ix(e,n._path);{const s=lT(i,n);return r_(e,n,null,s)}}}}function _s(e,t){const n=ql(t);return e.queryToTagMap.get(n)}function ql(e){return e._path.toString()+"$"+e._queryIdentifier}function Ud(e,t){return e.tagToQueryMap.get(t)}function Bd(e){const t=e.indexOf("$");return O(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new X(e.substr(0,t))}}function $d(e,t,n){const r=e.syncPointTree_.get(t);O(r,"Missing sync point for query tag that we're tracking");const i=Hl(e.pendingWriteTree_,t);return jd(r,n,i,null)}function ux(e){return e.fold((t,n,r)=>{if(n&&Cn(n))return[Ql(n)];{let i=[];return n&&(i=Zv(n)),qe(r,(s,o)=>{i=i.concat(o)}),i}})}function Fi(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(tx())(e._repo,e._path):e}function cx(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=ql(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function dx(){return nx++}function fx(e,t,n){const r=t._path,i=_s(e,t),s=l_(e,n),o=e.listenProvider_.startListening(Fi(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)O(!Cn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,f,c)=>{if(!$(u)&&f&&Cn(f))return[Ql(f).query];{let d=[];return f&&(d=d.concat(Zv(f).map(m=>m.query))),qe(c,(m,y)=>{d=d.concat(y)}),d}});for(let u=0;u<a.length;++u){const f=a[u];e.listenProvider_.stopListening(Fi(f),_s(e,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Wd(n)}node(){return this.node_}}class Vd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ge(this.path_,t);return new Vd(this.syncTree_,n)}node(){return zd(this.syncTree_,this.path_)}}const hx=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Lp=function(e,t,n){if(!e||typeof e!="object")return e;if(O(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return px(e[".sv"],t,n);if(typeof e[".sv"]=="object")return mx(e[".sv"],t);O(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},px=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+e)}},mx=function(e,t,n){e.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const i=t.node();if(O(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},gx=function(e,t,n,r){return Hd(t,new Vd(n,e),r)},a_=function(e,t,n){return Hd(e,new Wd(t),n)};function Hd(e,t,n){const r=e.getPriority().val(),i=Lp(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Lp(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new _e(l,Ee(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new _e(i))),o.forEachChild(ue,(l,a)=>{const u=Hd(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function qd(e,t){let n=t instanceof X?t:new X(t),r=e,i=V(n);for(;i!==null;){const s=Br(r.node.children,i)||{children:{},childCount:0};r=new Qd(i,r,s),n=Z(n),i=V(n)}return r}function Jr(e){return e.node.value}function u_(e,t){e.node.value=t,hc(e)}function c_(e){return e.node.childCount>0}function yx(e){return Jr(e)===void 0&&!c_(e)}function Kl(e,t){qe(e.node.children,(n,r)=>{t(new Qd(n,e,r))})}function d_(e,t,n,r){n&&!r&&t(e),Kl(e,i=>{d_(i,t,!0,r)}),n&&r&&t(e)}function vx(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function zs(e){return new X(e.parent===null?e.name:zs(e.parent)+"/"+e.name)}function hc(e){e.parent!==null&&_x(e.parent,e.name,e)}function _x(e,t,n){const r=yx(n),i=Ht(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,hc(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,hc(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=/[\[\].#$\/\u0000-\u001F\u007F]/,Sx=/[\[\].#$\u0000-\u001F\u007F]/,Ha=10*1024*1024,f_=function(e){return typeof e=="string"&&e.length!==0&&!wx.test(e)},h_=function(e){return typeof e=="string"&&e.length!==0&&!Sx.test(e)},Ex=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),h_(e)},p_=function(e,t,n,r){r&&t===void 0||Kd(Cd(e,"value"),t,n)},Kd=function(e,t,n){const r=n instanceof X?new UT(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Mn(r));if(typeof t=="function")throw new Error(e+"contains a function "+Mn(r)+" with contents = "+t.toString());if(av(t))throw new Error(e+"contains "+t.toString()+" "+Mn(r));if(typeof t=="string"&&t.length>Ha/3&&$l(t)>Ha)throw new Error(e+"contains a string greater than "+Ha+" utf8 bytes "+Mn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(qe(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!f_(o)))throw new Error(e+" contains an invalid key ("+o+") "+Mn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);BT(r,o),Kd(e,l,r),$T(r)}),i&&s)throw new Error(e+' contains ".value" child '+Mn(r)+" in addition to actual children.")}},m_=function(e,t,n,r){if(!h_(n))throw new Error(Cd(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Cx=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),m_(e,t,n)},Gd=function(e,t){if(V(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},kx=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!f_(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ex(n))throw new Error(Cd(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function g_(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Dv(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Nt(e,t,n){g_(e,n),Ix(e,r=>pt(r,t)||pt(t,r))}function Ix(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(xx(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function xx(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Ai&&De("event: "+n.toString()),Xr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="repo_interrupt",Rx=25;class Px{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tx,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cl(),this.transactionQueueTree_=new Qd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ox(e,t,n){if(e.stats_=xd(e.repoInfo_),e.forceRestClient_||dT())e.server_=new ul(e.repoInfo_,(r,i,s,o)=>{Fp(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>jp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new bt(e.repoInfo_,t,(r,i,s,o)=>{Fp(e,r,i,s,o)},r=>{jp(e,r)},r=>{Dx(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=gT(e.repoInfo_,()=>new pI(e.stats_,e.server_)),e.infoData_=new uI,e.infoSyncTree_=new bp({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=Fs(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Xd(e,"connected",!1),e.serverSyncTree_=new bp({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Nt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function y_(e){const n=e.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Yd(e){return hx({timestamp:y_(e)})}function Fp(e,t,n,r,i){e.dataUpdateCount++;const s=new X(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=rl(n,u=>Ee(u));o=ox(e.serverSyncTree_,s,a,i)}else{const a=Ee(n);o=i_(e.serverSyncTree_,s,a,i)}else if(r){const a=rl(n,u=>Ee(u));o=rx(e.serverSyncTree_,s,a)}else{const a=Ee(n);o=Fs(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Yl(e,s)),Nt(e.eventQueue_,l,o)}function jp(e,t){Xd(e,"connected",t),t===!1&&bx(e)}function Dx(e,t){qe(t,(n,r)=>{Xd(e,n,r)})}function Xd(e,t,n){const r=new X("/.info/"+t),i=Ee(n);e.infoData_.updateSnapshot(r,i);const s=Fs(e.infoSyncTree_,r,i);Nt(e.eventQueue_,r,s)}function v_(e){return e.nextWriteId_++}function Ax(e,t,n){const r=ax(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=Ee(i).withIndex(t._queryParams.getIndex());lx(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=Fs(e.serverSyncTree_,t._path,s);else{const l=_s(e.serverSyncTree_,t);o=i_(e.serverSyncTree_,t._path,s,l)}return Nt(e.eventQueue_,t._path,o),r_(e.serverSyncTree_,t,n,null,!0),s},i=>(Gl(e,"get for query "+me(t)+" failed: "+i),Promise.reject(new Error(i))))}function Mx(e,t,n,r,i){Gl(e,"set",{path:t.toString(),value:n,priority:r});const s=Yd(e),o=Ee(n,r),l=zd(e.serverSyncTree_,t),a=a_(o,l,s),u=v_(e),f=n_(e.serverSyncTree_,t,a,u,!0);g_(e.eventQueue_,f),e.server_.put(t.toString(),o.val(!0),(d,m)=>{const y=d==="ok";y||He("set at "+t+" failed: "+d);const v=Bn(e.serverSyncTree_,u,!y);Nt(e.eventQueue_,t,v),Fx(e,i,d,m)});const c=C_(e,t);Yl(e,c),Nt(e.eventQueue_,c,[])}function bx(e){Gl(e,"onDisconnectEvents");const t=Yd(e),n=cl();ac(e.onDisconnect_,q(),(i,s)=>{const o=gx(i,s,e.serverSyncTree_,t);Uv(n,i,o)});let r=[];ac(n,q(),(i,s)=>{r=r.concat(Fs(e.serverSyncTree_,i,s));const o=C_(e,i);Yl(e,o)}),e.onDisconnect_=cl(),Nt(e.eventQueue_,q(),r)}function Lx(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Nx)}function Gl(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),De(n,...t)}function Fx(e,t,n,r){t&&Xr(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function __(e,t,n){return zd(e.serverSyncTree_,t,n)||z.EMPTY_NODE}function Jd(e,t=e.transactionQueueTree_){if(t||Xl(e,t),Jr(t)){const n=S_(e,t);O(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&jx(e,zs(t),n)}else c_(t)&&Kl(t,n=>{Jd(e,n)})}function jx(e,t,n){const r=n.map(u=>u.currentWriteId),i=__(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];O(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=be(t,f.path);s=s.updateChild(c,f.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{Gl(e,"transaction put response",{path:a.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(Bn(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Xl(e,qd(e.transactionQueueTree_,t)),Jd(e,e.transactionQueueTree_),Nt(e.eventQueue_,t,f);for(let d=0;d<c.length;d++)Xr(c[d])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{He("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}Yl(e,t)}},o)}function Yl(e,t){const n=w_(e,t),r=zs(n),i=S_(e,n);return zx(e,i,r),r}function zx(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=be(n,a.path);let f=!1,c;if(O(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,c=a.abortReason,i=i.concat(Bn(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=Rx)f=!0,c="maxretry",i=i.concat(Bn(e.serverSyncTree_,a.currentWriteId,!0));else{const d=__(e,a.path,o);a.currentInputSnapshot=d;const m=t[l].update(d.val());if(m!==void 0){Kd("transaction failed: Data returned ",m,a.path);let y=Ee(m);typeof m=="object"&&m!=null&&Ht(m,".priority")||(y=y.updatePriority(d.getPriority()));const w=a.currentWriteId,g=Yd(e),h=a_(y,d,g);a.currentOutputSnapshotRaw=y,a.currentOutputSnapshotResolved=h,a.currentWriteId=v_(e),o.splice(o.indexOf(w),1),i=i.concat(n_(e.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Bn(e.serverSyncTree_,w,!0))}else f=!0,c="nodata",i=i.concat(Bn(e.serverSyncTree_,a.currentWriteId,!0))}Nt(e.eventQueue_,n,i),i=[],f&&(t[l].status=2,function(d){setTimeout(d,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(c==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(c),!1,null))))}Xl(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Xr(r[l]);Jd(e,e.transactionQueueTree_)}function w_(e,t){let n,r=e.transactionQueueTree_;for(n=V(t);n!==null&&Jr(r)===void 0;)r=qd(r,n),t=Z(t),n=V(t);return r}function S_(e,t){const n=[];return E_(e,t,n),n.sort((r,i)=>r.order-i.order),n}function E_(e,t,n){const r=Jr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Kl(t,i=>{E_(e,i,n)})}function Xl(e,t){const n=Jr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,u_(t,n.length>0?n:void 0)}Kl(t,r=>{Xl(e,r)})}function C_(e,t){const n=zs(w_(e,t)),r=qd(e.transactionQueueTree_,t);return vx(r,i=>{Qa(e,i)}),Qa(e,r),d_(r,i=>{Qa(e,i)}),n}function Qa(e,t){const n=Jr(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Bn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?u_(t,void 0):n.length=s+1,Nt(e.eventQueue_,zs(t),i);for(let o=0;o<r.length;o++)Xr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Bx(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):He(`Invalid query segment '${n}' in query '${e}'`)}return t}const zp=function(e,t){const n=$x(e),r=n.namespace;n.domain==="firebase.com"&&$t(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&$t("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||nT();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wv(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new X(n.pathString)}},$x=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let f=e.indexOf("/");f===-1&&(f=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(f,c)),f<c&&(i=Ux(e.substring(f,c)));const d=Bx(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const m=t.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const y=t.indexOf(".");r=t.substring(0,y).toLowerCase(),n=t.substring(y+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wx=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Up.charAt(n%64),n=Math.floor(n/64);O(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Up.charAt(t[i]);return O(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+me(this.snapshot.exportVal())}}class Hx{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $(this._path)?null:Rv(this._path)}get ref(){return new Qt(this._repo,this._path)}get _queryIdentifier(){const t=kp(this._queryParams),n=Td(t);return n==="{}"?"default":n}get _queryObject(){return kp(this._queryParams)}isEqual(t){if(t=ir(t),!(t instanceof Zd))return!1;const n=this._repo===t._repo,r=Dv(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+zT(this._path)}}class Qt extends Zd{constructor(t,n){super(t,n,new Dd,!1)}get parent(){const t=Ov(this._path);return t===null?null:new Qt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class ws{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new X(t),r=Ss(this.ref,t);return new ws(this._node.getChild(n),r,ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new ws(i,Ss(this.ref,r),ue)))}hasChild(t){const n=new X(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hi(e,t){return e=ir(e),e._checkNotDeleted("ref"),t!==void 0?Ss(e._root,t):e._root}function Ss(e,t){return e=ir(e),V(e._path)===null?Cx("child","path",t):m_("child","path",t),new Qt(e._repo,ge(e._path,t))}function qx(e,t){e=ir(e),Gd("push",e._path),p_("push",t,e._path,!0);const n=y_(e._repo),r=Wx(n),i=Ss(e,r),s=Ss(e,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Kx(e){return Gd("remove",e._path),pc(e,null)}function pc(e,t){e=ir(e),Gd("set",e._path),p_("set",t,e._path,!1);const n=new Bl;return Mx(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Bp(e){e=ir(e);const t=new Qx(()=>{}),n=new ef(t);return Ax(e._repo,e,n).then(r=>new ws(r,new Qt(e._repo,e._path),e._queryParams.getIndex()))}class ef{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Vx("value",this,new ws(t.snapshotNode,new Qt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Hx(this,t,n):null}matches(t){return t instanceof ef?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}GI(Qt);ex(Qt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="FIREBASE_DATABASE_EMULATOR_HOST",mc={};let Yx=!1;function Xx(e,t,n,r){e.repoInfo_=new wv(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function Jx(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||$t("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),De("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=zp(s,i),l=o.repoInfo,a;typeof process<"u"&&op&&(a=op[Gx]),a?(s=`http://${a}?ns=${l.namespace}`,o=zp(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new hT(e.name,e.options,t);kx("Invalid Firebase Database URL",o),$(o.path)||$t("Database URL must point to the root of a Firebase Database (not including a child path).");const f=eN(l,e,u,new fT(e.name,n));return new tN(f,e)}function Zx(e,t){const n=mc[t];(!n||n[e.key]!==e)&&$t(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Lx(e),delete n[e.key]}function eN(e,t,n,r){let i=mc[t.name];i||(i={},mc[t.name]=i);let s=i[e.toURLString()];return s&&$t("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Px(e,Yx,n,r),i[e.toURLString()]=s,s}class tN{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ox(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qt(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Zx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&$t("Cannot call "+t+" on a deleted database.")}}function nN(e=Uk(),t){const n=Lk(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=I1("database");r&&rN(n,...r)}return n}function rN(e,t,n,r={}){e=ir(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&$t("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&$t('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Co(Co.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:x1(r.mockUserToken,e.app.options.projectId);s=new Co(o)}Xx(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e){Yk(zk),sl(new ds("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return Jx(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Pr(lp,ap,e),Pr(lp,ap,"esm2017")}bt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};bt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};iN();var sN="firebase",oN="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(sN,oN,"app");const lN="X0odfi5z1Re5brAqbVVgcKBySazIA-M6lbeWMXT",aN={apiKey:function(){return lN.split("-").map(e=>e.split("").reverse().join("")).join("-")}(),authDomain:"contacts-test-project-6ff56.firebaseapp.com",databaseURL:"https://contacts-test-project-6ff56-default-rtdb.firebaseio.com",projectId:"contacts-test-project-6ff56",storageBucket:"contacts-test-project-6ff56.firebasestorage.app",messagingSenderId:"1089080938649",appId:"1:1089080938649:web:e0b030e8f6dc2d7dd3a808"},uN=nv(aN),pi=nN(uN),ko=g1({reducerPath:"contactsApi",tagTypes:["Contacts"],baseQuery:EC(),endpoints:e=>({getContacts:e.query({queryFn:async()=>{try{const t=hi(pi,"contacts"),n=await Bp(t),r=n.val();if(n.exists()){const i=Object.entries(r).map(s=>({id:s[0],...s[1]}));return console.log(i),{data:i}}}catch(t){return{error:t}}},providesTags:(t=[])=>["Contacts",...t.map(({id:n})=>({type:"Contacts",id:n}))]}),getOneContact:e.query({queryFn:async t=>{console.log(t);try{const n=hi(pi,`contacts/${t}`),r=await Bp(n),i=r.val();if(r.exists())return{data:i}}catch(n){return{error:n}}}}),addContact:e.mutation({queryFn:async t=>{try{const n=qx(hi(pi,"contacts"));return{data:await pc(n,t)}}catch(n){return{error:n}}},invalidatesTags:["Contacts"]}),editContact:e.mutation({queryFn:async t=>{try{const n=hi(pi,`contacts/${t.id}`);return{data:await pc(n,{request:t.request})}}catch(n){return{error:n}}},invalidatesTags:t=>[{type:"Contacts",id:t.id}]}),deleteContact:e.mutation({queryFn:async t=>{try{const n=hi(pi,`contacts/${t}`);return{data:await Kx(n)}}catch(n){return{error:n}}},invalidatesTags:t=>[{type:"Contacts",id:t}]})})}),{useGetContactsQuery:cN,useAddContactMutation:dN,useDeleteContactMutation:fN,useGetOneContactQuery:hN,useEditContactMutation:pN}=ko,mN=()=>{const e="https://robohash.org/XKQ.png?set=set1&size=150x150",{data:t=[],error:n}=cN(),[r]=fN(),i=(s,o)=>{s.preventDefault();const{id:l}=o;r(l)};return D.jsxs(D.Fragment,{children:[n&&D.jsx("h2",{children:n}),t.map(s=>D.jsxs(py,{to:`/contacts-react-app/${s.id}`,className:"rounded-md bg-gray-200 hover:bg-gray-300 transition hover:shadow-gray-400 hover:shadow-md p-4 mb-4 pr-14 flex gap-x-3 relative",children:[D.jsx("div",{className:"w-[59px] h-[59px] flex-none overflow-hidden",children:D.jsx("img",{src:s.request.avatar?s.request.avatar:e,alt:s["first name"]+" "+s["last name"]})}),D.jsxs("div",{className:"grow",children:[D.jsx("h3",{className:"text-base font-bold mb-1",children:D.jsxs("div",{className:"hover:underline",children:[s.request["first name"]," ",s.request["last name"]]})}),D.jsx("span",{className:"text-base font-bold hover:underline",children:s.request.email}),s.request.tags.length>0?D.jsx("ul",{className:"flex flex-wrap text-sm leading-5 gap-2 pt-3 pb-2",children:s.request.tags.map(o=>D.jsx("li",{className:"bg-gray-400 px-2 rounded cursor-default",children:o},s.id+"-"+o))}):""]}),D.jsx("button",{type:"button",onClick:o=>i(o,s),className:"absolute top-[10px] right-[10px] hover:rotate-90 hover:scale-125 transition",children:D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"22px",viewBox:"0 0 24 24",width:"22px",fill:"#000000",children:[D.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),D.jsx("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})})]},s.id))]})},gN=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState(!1),[a,u]=x.useState(!1),[f,c]=x.useState("Enter your email"),[d]=dN(),m=g=>{t(g.target.value)},y=g=>{r(g.target.value)},v=g=>{s(g.target.value)},w=async()=>{try{const g={"first name":e,"last name":n,email:i,avatar:"",tags:"",created:new Date().toISOString()},h=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;l(!e&&!n),h.test(i)&&u(!1),i?i&&!h.test(i)?(c("Enter correct Email"),u(!0)):(e||n)&&h.test(i)&&(u(!1),await d({request:g}).unwrap(),t(""),r(""),s("")):(u(!0),c("Enter Email"))}catch(g){console.log(g)}};return D.jsxs(D.Fragment,{children:[D.jsx("h2",{className:"text-xl font-bold mb-2",children:"Create Contact"}),D.jsxs("div",{className:"pb-2 flex flex-col",children:[D.jsx("label",{htmlFor:"first-name",className:"text-xs pb-1",children:"First Name"}),D.jsx("input",{type:"text",id:"first-name",value:e,onChange:m,name:"firstName",className:`text-base h-12 p-2 pb-2.5 rounded-lg leading-7 border-solid border transition focus:outline-0  focus:shadow-md 
            ${o?"border-red-500  focus:border-red-500 focus:shadow-red-200":"border-gray-300  focus:border-sky-500 focus:shadow-sky-200"}
          `}),o&&D.jsx("div",{className:"text-s text-red-500 pt-1",children:"First Name or Last Name must be filled"})]}),D.jsxs("div",{className:"pb-2 flex flex-col",children:[D.jsx("label",{htmlFor:"last-name",className:"text-xs pb-1",children:"Last Name"}),D.jsx("input",{type:"text",id:"last-name",value:n,name:"lastName",onChange:y,className:`text-base h-12 p-2 pb-2.5 rounded-lg leading-7 border-solid border transition focus:outline-0  focus:shadow-md 
            ${o?"border-red-500  focus:border-red-500 focus:shadow-red-200":"border-gray-300  focus:border-sky-500 focus:shadow-sky-200"}
          `}),o&&D.jsx("div",{className:"text-s text-red-500 pt-1",children:"First Name or Last Name must be filled"})]}),D.jsxs("div",{className:"pb-2 flex flex-col",children:[D.jsx("label",{htmlFor:"email",className:"text-xs pb-1",children:"Email"}),D.jsx("input",{type:"email",id:"email",value:i,name:"email",onChange:v,className:`text-base h-12 p-2 pb-2.5 rounded-lg leading-7 border-solid border transition focus:outline-0  focus:shadow-md 
            ${a?"border-red-500  focus:border-red-500 focus:shadow-red-200":"border-gray-300  focus:border-sky-500 focus:shadow-sky-200"}
          `}),a&&D.jsx("div",{className:"text-s text-red-500 pt-1",children:f})]}),D.jsx("button",{type:"button",onClick:w,className:"mt-3 text-base font-bold h-11 border-solid border border-gray-300 w-full rounded-md transition hover:bg-sky-500 hover:border-sky-500 hover:text-white hover:shadow-sky-200 hover:shadow-md",children:"Add Contact"})]})},yN=()=>D.jsxs("div",{className:"flex w-full flex-col items-start md:flex-row pt-7 pb-5",children:[D.jsx("div",{className:"w-full flex-1 order-2 p-4",children:D.jsx(mN,{})}),D.jsx("aside",{className:"mx-auto w-80 order-1 p-4 md:sticky md:top-0",children:D.jsx(gN,{})})]}),vN=()=>D.jsx("div",{children:D.jsx("h1",{children:"404 Page"})}),k_=Dn({name:"tagsState",initialState:{isTagDel:!1},reducers:{tagDelSwitch(e,t){e.isTagDel=t.payload.newState}}}),{tagDelSwitch:_N}=k_.actions,wN=k_.reducer;var T_={exports:{}},SN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EN=SN,CN=EN;function I_(){}function x_(){}x_.resetWarningCache=I_;var kN=function(){function e(r,i,s,o,l,a){if(a!==CN){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:x_,resetWarningCache:I_};return n.PropTypes=n,n};T_.exports=kN();var TN=T_.exports;const ji=$p(TN),N_=({item:e,handleDeleteTag:t})=>{const n=jy(r=>r.tagsDelState.isTagDel);return D.jsx(D.Fragment,{children:e.request.tags.length>0?D.jsx("ul",{className:"flex flex-wrap text-sm leading-5 gap-2 pt-3 pb-2",children:e.request.tags.map(r=>n?D.jsx("li",{title:"Press to delete",className:"bg-gray-400 px-2 rounded hover:opacity-80 cursor-pointer",onClick:()=>t(r),children:r},e.id+"-"+r):D.jsx("li",{className:"bg-gray-400 px-2 rounded cursor-default",children:r},e.id+"-"+r))}):""})};N_.propTypes={item:ji.object,handleDeleteTag:ji.func};const R_=({inputValue:e,setInputValue:t,handleAddTag:n})=>D.jsxs("div",{className:"pt-7",children:[D.jsx("input",{type:"text",id:"last-name",name:"lastName",value:e,onChange:r=>t(r.target.value),className:"w-full text-base h-12 p-2 pb-2.5 rounded-lg leading-7 border-solid border transition focus:outline-0  focus:shadow-md border-gray-300  focus:border-sky-500 focus:shadow-sky-200"}),D.jsx("button",{type:"button",onClick:n,className:"mt-3 text-base font-bold h-11 border-solid border border-gray-300 w-full rounded-md transition hover:bg-sky-500 hover:border-sky-500 hover:text-white hover:shadow-sky-200 hover:shadow-md",children:"Add Tag"})]});R_.propTypes={inputValue:ji.string,setInputValue:ji.func,handleAddTag:ji.func};const IN=()=>{const{id:e}=FS(),{data:t,refetch:n,isError:r,isLoading:i}=hN(e);console.log(t);const[s]=pN(),[o,l]=x.useState(""),a="https://robohash.org/XKQ.png?set=set1&size=150x150",u=$y();x.useEffect(()=>{u(_N({newState:!0}))},[]);const f=async()=>{try{if(o){const m=[...t.request.tags,...o.split(" ")],y=new Set(m.filter(w=>w!=="")),v={...t.request,tags:[...y]};await s({...t,id:e,request:v}),l(""),n()}}catch(d){console.log(d)}},c=async d=>{try{const y=t.request.tags.filter(w=>w!==d),v={...t.request,tags:[...y]};await s({...t,id:e,request:v}),n()}catch(m){console.log(m)}};return D.jsxs("div",{className:"p-4 ",children:[D.jsx(py,{to:"/contacts-react-app",className:"inline-block p-2 text-base font-bold border-solid border border-gray-300 rounded-md transition hover:bg-sky-500 hover:border-sky-500 hover:text-white hover:shadow-sky-200 hover:shadow-md",children:"< Back"}),r&&D.jsx("div",{children:"Loading error!"}),i&&D.jsx("div",{children:"Loading..."}),t&&D.jsxs("div",{className:"p-4 max-w-xl mx-auto",children:[D.jsxs("div",{className:"flex gap-x-3 items-center mb-4",children:[D.jsx("div",{className:"w-[120px] h-[120px] flex-none overflow-hidden",children:D.jsx("img",{width:120,src:t.request.avatar?t.request.avatar:a,alt:t.request["first name"]+" "+t.request["last name"]})}),D.jsxs("div",{className:"grow pl-2",children:[D.jsxs("h3",{className:"text-base font-bold mb-1",children:[t.request["first name"]," ",t.request["last name"]]}),D.jsx("a",{href:"mailto:"+t.request.email,className:"text-base font-bold hover:underline",children:t.request.email})]})]}),t.request.tags.length>0?D.jsx("h3",{className:"text-base font-bold",children:"Tags:"}):"",D.jsx(N_,{item:t,handleDeleteTag:c}),D.jsx(R_,{inputValue:o,setInputValue:l,handleAddTag:f})]})]})};function xN(){return D.jsx(D.Fragment,{children:D.jsx(eE,{children:D.jsxs(_i,{path:"/contacts-react-app",element:D.jsx(dE,{}),children:[D.jsx(_i,{index:!0,element:D.jsx(yN,{})}),D.jsx(_i,{path:"/contacts-react-app/:id",element:D.jsx(IN,{})}),D.jsx(_i,{path:"*",element:D.jsx(vN,{})})]})})})}const P_=qE({reducer:{tagsDelState:wN,[ko.reducerPath]:ko.reducer},middleware:e=>e().concat(ko.middleware)});hC(P_.dispatch);ny(document.getElementById("root")).render(D.jsx(e1,{store:P_,children:D.jsx(lE,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:D.jsx(xN,{})})}));
